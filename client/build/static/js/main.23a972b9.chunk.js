(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{85:function(e,t,s){},87:function(e,t,s){},89:function(e,t,s){"use strict";s.r(t);var a=s(1),c=s(25),r=s.n(c),n=s(6),l=s(7),i=s(3),o=s(5),d=s.n(o),j=s(9),m=s(8),b=s.n(m),u=function(e,t){return function(s){var a=Math.random();s({type:"SET_ALERT",payload:{message:e,type:t,id:a}}),setTimeout((function(){s({type:"REMOVE_ALERT",payload:a})}),3e3)}},p="REGISTER_SUCCESS",x="REGISTER_FAIL",h="LOGIN_SUCCESS",O="LOGIN_FAIL",f="USER_LOADED",g="AUTH_ERROR",v="LOGOUT",y="GET_PROFILE",N="EDIT_PROFILE",k="PROFILE_ERROR",I="CLEAR_PROFILE",w="FOLLOW",C="GET_ALL_PROFILES",E="GET_POSTS",A="POST_ERROR",_="CREATE_POST",S="LIKE_POST",H="DELETE_POST",R="COMMENT",F="LIKE_COMMENT",T="DELETE_COMMENT",L=function(e){e?b.a.defaults.headers.common["x-auth-token"]=e:delete b.a.defaults.headers.common["x-auth-token"]},P="https://instagram-a5.herokuapp.com",M=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("".concat(P,"/api/profile/me"));case 3:s=e.sent,t({type:y,payload:s.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:k});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},D=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("".concat(P,"/api/profile"));case 3:s=e.sent,t({type:C,payload:s.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:k});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},J=function(e){return function(){var t=Object(j.a)(d.a.mark((function t(s){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.a.get("".concat(P,"/api/profile/").concat(e));case 3:a=t.sent,s({type:y,payload:a.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),s({type:k});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},U=function(e){return function(){var t=Object(j.a)(d.a.mark((function t(s){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.a.patch("".concat(P,"/api/profile/").concat(e,"/follow"));case 3:a=t.sent,s({type:w,payload:a.data}),s(D()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),s({type:k});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},G="https://instagram-a5.herokuapp.com",B=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&L(localStorage.token),e.prev=1,e.next=4,b.a.get("".concat(G,"/api/auth"));case 4:s=e.sent,t({type:f,payload:s.data}),t(M()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:g});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},V=function(){return function(e){try{e({type:I}),e({type:v})}catch(t){e({type:g})}}},K=s(0),Q=function(){var e=Object(i.b)();return Object(K.jsx)(K.Fragment,{children:Object(K.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-white static-top border-bottom",children:Object(K.jsxs)("div",{className:"container w-50",children:[Object(K.jsx)(n.b,{className:"navbar-brand ",to:"/",children:Object(K.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGcAAAAdCAMAAACAJoJsAAACwVBMVEUAAAAjHyAjHyD///8zIiIjHyBAQEAkICErICsmJiYsISEmIiKAgIAjHyAnISEtLS0kHyIpKSkkICEkHyEkHyE5OTkkICEjHyAzMzMuIyMkJCQjICElHyImISEjICErKyskJCQoKCgkICEkICEkICElICAmHyNAIEAkICEkISEnJyczMzMmJiYkICFVVVUkICAlISEjICAjHyEjHyElICAjHyEjHyEjICEkICEkICAkICIrIiIkHyAkHyEjICAkICAjHyElISEkISElICArKysmICArKysjICEkHyAkHyAkICIkISEnIyMkICElISEkHyAjICEuLi4kHyAjHyAlICUkISEnIyMkICAkJCQjHyAjHyEpIyMkHyEkICIkICEjICEjICAmIiIjICEkICIjICAkICAkISEkICAlHyIkICEwIDAoIiIjICIkHyIkISEkICQmISEkHyEkICElICIjICEkISEkICAkICAkICAjICAjISElHyEjISEkHyAkHyQjISEkISEmICYjICEkICAkISEkICAkHyApIiIjICEkICAkISElICMkJCQjHyEkICAjICEjHyEkHyEjHyEnIiIkICAjICEkHyAkHyEjICAkISEjHyAkICAkICInJyckHyEkICEkISEjICAjICEkHyEjHyEjICMkHyEmJiYjICAmISEkHyEkICAjIyMkICQlISEkICEjIyMnISEkISEkICAkICAkJCQlICIoIiIkJCQjICAjICAjICMkISEnJyckJCQlISEkICIjIyMkICEjICIpISEjICEkIiIjICAmIiImHyIkICAjIyMkHyEjISEkHyEkHyEkISEjICAmICMjICIkHyAlHyUlICAkHyAkJCQjHyMlHyElICIjICAkICEkICEkHyAlICAkHyAoICgkICAjICEmHyMlIiIkICEkICAkHyQjHyAYxkEZAAAA6nRSTlMA/fwBD/4E+hgUF0MC7i4Rchn5nPsJ+OYKFjLgWi/pBioTucDydlEIyUYaBRuoA3d9l7zDZ8xz2tBHgR7NlN+GikVObxJfDMr03XlNO6E+xdIL1b0wXUK/FfWDLKuAsNHnNcJw751rf1K4ECaYalxANrOqYdmFj8eWrl6SdO0xbZUokZ5Vz+Ql4daNYCO0t5nL23s0h9jsrJ9W9r5xIZPqZLXwpMRQmiKtPevOJDiE8R0nY36vK1ktB7amSIwNDnV4M7KJH+hb9zxKxjqjbOPzVKdYkN4pN9QcQYtoV+K65W7cII6gSVOxPzlNBvrEAAAEaklEQVR4XrXNU5OeiQJF4fV+atq2EXd3bNu2PbE5sTO2bds+tm2sX3HqfFW5m75IJf3c7dq7agP0+GFBQS+6Ulfw02e4GfKqQ99oBl34gc7hJugxy98/oEl0Yb/WcxP0dCmzNJkuvKcDuHHN+c5mnibyLcJ35adl67nq/TmJ3Jg6O6FGs/gWkZBxGvoNN6a/V6CvZlH1nTwgdeqXxM2eeBLyRmcV6MnK481QOTEziwhxRatuT2cGQGb768RB+Kklb8ca3gXY9hBEUj4Cyl4jboEL4UlNpJ93f0Ryu8HPw0BpoBkAp/UMwJiQru5t56vAHY9rcGe0vIl0HUfrLa8BLdvVPldD90I4cB0bTEunLOSfNgL82XUwTRPZosnhGnP1CKQ+ryVhgAJtBcpyrV2zS/0vxG7TDZfUTEbqgrs12AQ9dfqU8ToBWvTKL9XhHFNLAY65A76nyazV+X9w8DD9PlSpXwPwlY4GntXnqDqsxbBTH4bPdS0Ny9zVd7muIJLmzDwO6Dlo0M3D1N4Vadl6H8DomfdnsVeTOapJL2RXDtPZwDgLIgCU6wwozPdJoE0roY+5SfCo9oO++Uk8ZkID6+OxMOQpmKGbh0677JomT+hIAPKWjKBRixilAxzCrboJyNEJdwA8rzF4SV8GBupFUmttBEbo6yQGT8By22G4LgKGuhc+1sE+tdi2gwkDtIlrxul8VukTCYPI0VdhU+7CoWYfgB4/VmCr7gR66SAe0n8AKbqTnm6jUN+Hx3Q+sMuVsFFd3bLGy/2rV+hvueaqJpGp47fD+5oIS/eGmzuNjmSuBsBRXQ8M01bSdQ8wSccUlu+HRP0CajQGnLUGMtQdDPdcaEu6zuWads2gQy2FezSZEUExnMl2Op8HRlNhiP4MaNNBlGkOkKljDoWOwzO6DubFd+8GroTRaiYdavFF/S4UEjdYx/KJZo+FZ3VQQ+cQgDfNn9NYrRlUnNYOCJfoWyTrLGCx3l67Gxgb9UOYookwWQfDc2o992moJS/qASpKiOtvEKNO5xHfDzjxo42/aoY3DSVMHa4pTJwWuBRS1HqadHkqSffrgmUVABPsAzv0J3CvpsHT6me8o7+AoZ5n7l3EzfQsPKgDgYEaDVIWJaT16pmgL3NEGz9MKL5kqHTy2T6/9p6MlSW68K0HanX1iwCcNzT1pUdynV521N/pByMOq2focdpG2G35kep9xP3RDTBJ64EVgaEL1Aeq+W8AOeohjh9WayJvq6eqTqklk7WDuIxlGp30oBo9RJv6l/HaCunHxkDRX3X83wCIJbgeYr02FwGc/PtnQOWnJ/Z90gwQ3rrnn0DrkodHVsAtt9ZFKBzV+0LWdt1CHGNHHUz5fzUwHVoe7V3Kvw7eGSYOit44v4i4bY5L5TpF+oZCjuK69Pv3x1ynpP7B1jRX0c0iL7iWWufQzRabA4FNdK//WB4hWd+he+12D6T4eIzuVeenMMR9dLMXX5nwQWbubUl0t+L3Xnnk6arrOPgfG95WRPTKWcwAAAAASUVORK5CYII=",alt:"...",height:"36"})}),Object(K.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(K.jsx)("span",{className:"navbar-toggler-icon"})}),Object(K.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(K.jsxs)("ul",{className:"navbar-nav ms-auto",children:[Object(K.jsx)("li",{className:"nav-item fs-4 mx-1",children:Object(K.jsx)(n.b,{className:"nav-link active","aria-current":"page",to:"/",children:Object(K.jsx)("i",{className:"fas fa-home"})})}),Object(K.jsx)("li",{className:"nav-item fs-4 mx-1",children:Object(K.jsx)(n.b,{className:"nav-link active","aria-current":"page",to:"/auth",children:Object(K.jsx)("i",{className:"far fa-comment-dots"})})}),Object(K.jsx)("li",{className:"nav-item fs-4 mx-1",children:Object(K.jsx)(n.b,{className:"nav-link active","aria-current":"page",to:"/create",children:Object(K.jsx)("i",{className:"far fa-plus-square"})})}),Object(K.jsx)("li",{className:"nav-item fs-4 mx-1",children:Object(K.jsx)(n.b,{className:"nav-link active","aria-current":"page",to:"/explore",children:Object(K.jsx)("i",{className:"far fa-compass"})})}),Object(K.jsx)("li",{className:"nav-item fs-4 mx-1",children:Object(K.jsx)(n.b,{className:"nav-link active","aria-current":"page",to:"/",children:Object(K.jsx)("i",{className:"far fa-heart"})})}),Object(K.jsxs)("li",{className:"nav-item dropdown fs-4 mx-1",children:[Object(K.jsx)("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:Object(K.jsx)("i",{className:"far fa-user"})}),Object(K.jsxs)("ul",{className:"dropdown-menu dropdown-menu-end","aria-labelledby":"navbarDropdown",children:[Object(K.jsx)("li",{children:Object(K.jsx)(n.b,{className:"dropdown-item",to:"/profile/me",children:"profile"})}),Object(K.jsx)("li",{}),Object(K.jsx)("li",{children:Object(K.jsx)("hr",{className:"dropdown-divider"})}),Object(K.jsx)("li",{children:Object(K.jsx)("p",{className:"dropdown-item",onClick:function(){return e(V())},style:{cursor:"pointer"},children:"Logout"})})]})]})]})})]})})})},W=(s(84),s(2)),z=s(44),Y=["component"],q=function(e){var t=e.component,s=Object(z.a)(e,Y),a=Object(i.c)((function(e){return e.auth})),c=a.isAuthenticated,r=a.loading;return r?"...Loading":Object(K.jsx)(l.b,Object(W.a)(Object(W.a)({},s),{},{render:function(e){return c&&!r?Object(K.jsx)(t,Object(W.a)({},e)):Object(K.jsx)(l.a,{to:"/auth"})}}))},X=(s(85),function(){var e=Object(i.c)((function(e){return e.alert}));return Object(K.jsx)(K.Fragment,{children:null!==e&&0!==e.length&&e.map((function(e){return Object(K.jsx)("div",{className:"alert alert-".concat(e.type," text-center mt-1 w-50 mx-auto "),role:"alert",children:e.message},Math.random())}))})}),Z="https://instagram-a5.herokuapp.com/api/posts",$=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("".concat(Z));case 3:s=e.sent,t({type:E,payload:s.data}),t(M()),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:A,payload:{msg:e.t0.response.statusText,status:e.t0.response.status}}),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},ee=function(e,t){return function(){var s=Object(j.a)(d.a.mark((function s(a){var c;return d.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,b.a.patch("".concat(Z,"/").concat(e,"/like"));case 3:c=s.sent,a({type:S,payload:{id:e,likes:c.data}}),t&&a(J(t)),s.next=11;break;case 8:s.prev=8,s.t0=s.catch(0),a({type:A,payload:{msg:s.t0.response.statusText,status:s.t0.response.status}});case 11:case"end":return s.stop()}}),s,null,[[0,8]])})));return function(e){return s.apply(this,arguments)}}()},te=function(e,t,s){return function(){var a=Object(j.a)(d.a.mark((function a(c){var r,n,l;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={headers:{"Content-Type":"application/json"}},a.prev=1,a.next=4,b.a.post("".concat(Z,"/comment/").concat(e),t,r);case 4:n=a.sent,console.log(n),c({type:R,payload:n.data}),c(s?J(s):$()),a.next=15;break;case 10:a.prev=10,a.t0=a.catch(1),(l=a.t0.response.data.errors)&&l.forEach((function(e){return c(u(e.msg,"danger"))})),c({type:A,payload:{msg:a.t0.response.statusText,status:a.t0.response.status}});case 15:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e){return a.apply(this,arguments)}}()},se=function(e,t,s){return function(){var a=Object(j.a)(d.a.mark((function a(c){var r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,b.a.patch("".concat(Z,"/").concat(e,"/comment/").concat(t,"/like"));case 3:r=a.sent,c({type:F,payload:{commentId:t,likes:r.data,id:e}}),c(s?J(s):$()),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},ae=function(e,t,s){return function(){var a=Object(j.a)(d.a.mark((function a(c){return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,b.a.delete("".concat(Z,"/").concat(e,"/comment/").concat(t,"/"));case 3:c({type:T,payload:{id:e,commentId:t}}),c(s?J(s):$()),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},ce=s(13),re=s(19),ne=s.n(re),le=function(e){var t=e.post,s=Object(a.useState)(!1),c=Object(ce.a)(s,2),r=c[0],l=c[1],o=Object(a.useState)(""),m=Object(ce.a)(o,2),p=m[0],x=m[1],h=Object(i.c)((function(e){return e.auth.user})),O=Object(i.b)(),f=function(){O(ee(t._id))},g=function(e){x(e.target.value)},v=function(){O(te(t._id,{text:p})),x("")};return Object(K.jsx)(K.Fragment,{children:Object(K.jsxs)("div",{className:"card w-75 offset-2  my-2  ",children:[Object(K.jsx)("div",{className:"modal fade ",id:"header".concat(t._id),"data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:Object(K.jsx)("div",{className:"modal-dialog modal-dialog-centered",style:{cursor:"pointer"},children:Object(K.jsxs)("div",{className:"modal-content text-center w-75",children:[t.user._id===h._id?Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)("div",{className:"my-2 text-danger","data-bs-dismiss":"modal",onClick:function(){var e;O((e=t._id,function(){var t=Object(j.a)(d.a.mark((function t(s){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.a.delete("".concat(Z,"/").concat(e));case 3:s({type:H,payload:e}),s(u("Deleted post","success")),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),s({type:A,payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()))},children:"Delete post"}),Object(K.jsx)("hr",{}),Object(K.jsx)("div",{className:"my-2 ",children:"Edit post"}),Object(K.jsx)("hr",{})]}):Object(K.jsxs)(K.Fragment,{children:[Object(K.jsxs)(n.b,{to:"/profile/".concat(t.user._id),children:[" ",Object(K.jsx)("div",{className:"my-2","data-bs-dismiss":"modal",children:"Open Profile"})]}),Object(K.jsx)("hr",{})]}),Object(K.jsx)("div",{className:"my-2","data-bs-dismiss":"modal","data-bs-toggle":"modal","data-bs-target":"#body".concat(t._id),children:"Open post"}),Object(K.jsx)("hr",{}),Object(K.jsx)("div",{className:"my-2","data-bs-dismiss":"modal",children:"Close"})]})})}),Object(K.jsx)("div",{className:"modal fade",id:"body".concat(t._id),tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(K.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:Object(K.jsx)("div",{className:"modal-content",children:Object(K.jsx)("div",{className:"modal-body",style:{padding:"0%",margin:"0%",borderRadius:"0%"},children:Object(K.jsx)("div",{className:"card",children:Object(K.jsxs)("div",{className:"row no-gutters",children:[Object(K.jsx)("div",{className:"col-md-8",children:Object(K.jsx)("img",{src:t.image,className:"card-img img-fluid",alt:"...",style:{height:"35rem",overflow:"hidden",display:"block",objectFit:"cover",borderRadius:"0%"}})}),Object(K.jsxs)("div",{className:"col-md-4 d-flex flex-column justify-content-between",children:[Object(K.jsxs)("div",{className:"",children:[Object(K.jsxs)("section",{className:"py-3 border-bottom d-flex justify-content-between",children:[Object(K.jsxs)("section",{children:[Object(K.jsx)("img",{style:{borderRadius:"50%",objectFit:"cover"},src:t.user.profileImage,width:"30rem",height:"30rem",alt:""}),Object(K.jsx)("h6",{className:"mx-3 d-inline",children:t.user.username})]}),Object(K.jsx)("p",{className:"fs-5 px-2",children:Object(K.jsx)("i",{className:"fas fa-ellipsis-h"})})]}),Object(K.jsxs)("div",{className:"commentsection",children:[t.text&&Object(K.jsxs)("div",{className:"py-2",children:[Object(K.jsx)("img",{style:{borderRadius:"50%",objectFit:"cover"},src:t.user.profileImage,height:"30rem",width:"30rem",alt:""}),Object(K.jsx)("strong",{className:"mx-3",children:t.user.username})," ",t.text]}),t.comments.map((function(e){return Object(K.jsxs)("div",{className:"py-3 d-flex justify-content-between",children:[Object(K.jsxs)("section",{children:[Object(K.jsx)("img",{src:e.profileImage,style:{borderRadius:"50%",objectFit:"cover"},height:"30rem",width:"30rem",alt:""}),Object(K.jsx)("b",{className:"mx-2",children:e.username}),e.text,Object(K.jsxs)("section",{className:"text-muted ",children:[Object(K.jsx)("small",{children:Object(K.jsx)("small",{children:ne()(e.date).fromNow(!0)})}),Object(K.jsx)("small",{className:"mx-2",children:Object(K.jsxs)("small",{children:[e.likes.length," Likes"]})}),h.username===e.username&&Object(K.jsx)("small",{style:{cursor:"pointer"},children:Object(K.jsx)("small",{onClick:function(){return O(ae(t._id,e._id))},children:"Delete"})})]})]}),Object(K.jsx)("section",{className:"px-2",onClick:function(){return O(se(t._id,e._id))},children:e.likes.find((function(e){return e._id===h._id}))?Object(K.jsx)("i",{className:"fas fa-heart",style:{color:"#fb3958",cursor:"pointer"}}):Object(K.jsx)("i",{className:"far fa-heart",style:{cursor:"pointer"}})})]},e._id)}))]})]}),Object(K.jsxs)("div",{className:"border-top pt-1",children:[Object(K.jsxs)("section",{children:[Object(K.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(K.jsxs)("p",{className:"card-text fs-5 pb-1",children:[t.likes.find((function(e){return e.user===h._id}))?Object(K.jsx)("i",{className:"fas fa-heart",onClick:f,style:{cursor:"pointer",color:"#fb3958"}}):Object(K.jsx)("i",{className:"far fa-heart",onClick:f,style:{cursor:"pointer"}}),Object(K.jsx)("i",{className:"far fa-comment mx-3",style:{cursor:"pointer"}}),Object(K.jsx)("i",{className:"far fa-paper-plane",style:{cursor:"pointer"}})]}),Object(K.jsx)("p",{className:"card-text fs-5 px-2",children:Object(K.jsx)("i",{className:"far fa-bookmark",style:{cursor:"pointer"}})})]}),Object(K.jsxs)("small",{className:"py-1",children:[Object(K.jsx)("b",{children:t.likes.length})," likes"]}),Object(K.jsx)("small",{children:Object(K.jsx)("small",{className:"text-muted d-block mb-2",children:ne()(t.date).fromNow()})})]}),Object(K.jsx)("section",{className:"border-top py-1",children:Object(K.jsxs)("ul",{className:"list-group list-group-flush d-flex flex-row align-items-center justify-content-between",children:[Object(K.jsx)("input",{className:"list-group-item w-100",placeholder:"Add comment",name:"comment",value:p,style:{borderBottom:"none"},onChange:g}),Object(K.jsx)("p",{className:"px-2 text-primary",style:{cursor:"pointer"},onClick:v,children:"share"})]})})]})]})]})})})})})}),Object(K.jsxs)("section",{className:"card-title mt-2 d-flex align-items-center justify-content-between ",children:[Object(K.jsxs)("div",{className:" d-flex align-items-center",children:[Object(K.jsx)(n.b,{to:t.user._id===h._id?"/profile/me":"/profile/".concat(t.user._id),className:"mx-1",children:Object(K.jsx)("img",{src:t.user.profileImage,alt:"",width:"30rem",height:"30rem",className:"postImage",style:{borderRadius:"50%",margin:"0px 8px",objectFit:"cover"}})}),Object(K.jsxs)("div",{className:"d-flex flex-column",children:[Object(K.jsx)(n.b,{to:"/profile/".concat(t.user._id),style:{textDecoration:"none",color:"black"},children:Object(K.jsx)("h6",{children:t.user.username})}),Object(K.jsx)("small",{className:"text-muted",children:null===t||void 0===t?void 0:t.location})]})]}),Object(K.jsx)("i",{className:"fas fa-ellipsis-h mx-3",style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#header".concat(t._id)})]}),Object(K.jsx)("img",{className:"card-img-top postImage",alt:"post",src:t.image,style:{maxHeight:"30rem",overflow:"hidden",display:"block",objectFit:"contain"}}),Object(K.jsxs)("div",{className:"card-body",children:[Object(K.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(K.jsxs)("p",{className:"card-text fs-5",children:[t.likes.find((function(e){return e.user===h._id}))?Object(K.jsx)("i",{className:"fas fa-heart like",onClick:f,style:{cursor:"pointer",color:"#fb3958"}}):Object(K.jsx)("i",{className:"far fa-heart",onClick:f,style:{cursor:"pointer"}}),Object(K.jsx)("i",{className:"far fa-comment mx-3",style:{cursor:"pointer"}}),Object(K.jsx)("i",{className:"far fa-paper-plane",style:{cursor:"pointer"}})]}),Object(K.jsx)("p",{className:"card-text fs-5",children:Object(K.jsx)("i",{className:"far fa-bookmark",style:{cursor:"pointer"}})})]}),Object(K.jsxs)("p",{className:"mt-1",children:[Object(K.jsx)("b",{children:t.likes.length})," likes"]}),Object(K.jsxs)("div",{children:[Object(K.jsx)("b",{children:t.user.username})," ",Object(K.jsxs)("small",{children:[r?t.text:t.text.length>50?t.text.slice(0,50):t.text,!r&&t.text.length>50&&Object(K.jsx)("small",{className:"text-muted d-block",style:{cursor:"pointer"},onClick:function(){return l(!0)},children:"...Read more"})]})]}),Object(K.jsx)("small",{className:"text-muted",children:Object(K.jsx)("p",{style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#body".concat(t._id),children:"View Comments"})}),Object(K.jsx)("small",{children:Object(K.jsx)("small",{className:"text-muted d-block",children:ne()(t.date).fromNow()})})]}),Object(K.jsx)("section",{className:"border-top",children:Object(K.jsxs)("ul",{className:"list-group list-group-flush d-flex flex-row align-items-center justify-content-between",children:[Object(K.jsx)("input",{className:"list-group-item w-100",placeholder:"Add comment",name:"comment",value:p,style:{borderBottom:"none"},onChange:g}),Object(K.jsx)("p",{className:"px-2 text-primary",style:{cursor:"pointer"},onClick:v,children:"share"})]})})]})})},ie=function(){var e=Object(i.c)((function(e){return e.profile})),t=e.profiles,s=e.loading,c=e.profile,r=Object(i.b)();Object(a.useEffect)((function(){t||r(D())}),[r]);var l=Object(i.c)((function(e){return e.auth})).user;return s?Object(K.jsx)("div",{className:"pt-5",children:Object(K.jsx)("div",{className:"loader py-5"})}):(t=t.filter((function(e){return(null===e||void 0===e?void 0:e._id)!==(null===c||void 0===c?void 0:c._id)})),Object(K.jsx)(K.Fragment,{children:Object(K.jsx)("div",{className:"row",children:Object(K.jsxs)("div",{className:"col-md-10 offset-md-1",children:[Object(K.jsx)("h4",{className:"mb-2",children:"Suggestions for you"}),Object(K.jsx)("div",{className:"card",children:!s&&t.map((function(e){return Object(K.jsxs)("div",{className:"d-flex p-3 justify-content-between align-items-center",children:[Object(K.jsx)(n.b,{to:"/profile/".concat(e.user._id),className:"mx-1",children:Object(K.jsx)("img",{style:{borderRadius:"50%",objectFit:"cover"},width:"40rem",height:"40rem",src:e.user.profileImage,alt:""})}),Object(K.jsxs)("div",{className:"flex-grow-1 mx-3",children:[Object(K.jsx)(n.b,{to:"/profile/".concat(e.user._id),className:"mx-1",children:Object(K.jsx)("h6",{className:" d-inline",children:e.user.username})}),Object(K.jsx)("small",{className:"text-muted d-block",children:e.user.fullname})]}),e.followers.find((function(e){return e===l._id}))?Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)("div",{className:"modal fade",id:"modal".concat(e.user._id),tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(K.jsx)("div",{className:"modal-dialog modal-sm modal-dialog-centered",children:Object(K.jsxs)("div",{className:"modal-content ",children:[Object(K.jsxs)("div",{className:" d-flex flex-column mt-3 align-items-center justify-content-center",children:[Object(K.jsx)("img",{style:{borderRadius:"50%",objectFit:"cover"},width:"80rem",height:"80rem",src:e.user.profileImage,alt:""}),Object(K.jsxs)("p",{className:"my-3",children:["Unfollow @",e.user.username," ?"]})]}),Object(K.jsx)("hr",{}),Object(K.jsx)("div",{className:"text-center text-danger my-2",children:Object(K.jsx)("p",{style:{cursor:"pointer"},"data-bs-dismiss":"modal",onClick:function(){r(U(e._id))},children:"Unfollow"})})," ",Object(K.jsx)("hr",{}),Object(K.jsx)("div",{className:"text-center my-2",children:Object(K.jsx)("p",{style:{cursor:"pointer"},"data-bs-dismiss":"modal",children:"Close"})})," ",Object(K.jsx)("hr",{})]})})}),Object(K.jsx)("button",{className:"btn btn-outline-dark","data-bs-toggle":"modal","data-bs-target":"#modal".concat(e.user._id),children:"following"})]}):Object(K.jsx)("button",{className:"btn btn-primary",onClick:function(){r(U(e._id))},children:"Follow"})]},e._id)}))})]})})}))},oe=function(){var e=Object(i.b)();Object(a.useEffect)((function(){e($())}),[e]);var t=Object(i.c)((function(e){return e.post})),s=t.posts,c=t.loading,r=Object(i.c)((function(e){return e.profile})),n=r.profile,l=r.profileLoading;if(c)return Object(K.jsx)("div",{className:"pt-5",children:Object(K.jsx)("div",{className:"loader py-5"})});if(l)return Object(K.jsx)("div",{className:"pt-5",children:Object(K.jsx)("div",{className:"loader py-5"})});var o=[];return(null===n||void 0===n?void 0:n.following)&&(null===n||void 0===n?void 0:n.following.length)>0&&n.following.forEach((function(e){return s.map((function(t){return t.user._id===e?o.push(t):console.log("nope")}))})),o&&o.length>0&&!c&&!l?o.map((function(e){return Object(K.jsx)(le,{post:e},e._id)})):Object(K.jsx)(ie,{})},de=function(){var e=Object(i.c)((function(e){return e.profile})),t=e.profile,s=e.profiles,c=e.loading,r=Object(i.b)();Object(a.useEffect)((function(){s||r(D())}),[r]);var l=Object(i.c)((function(e){return e.auth})).user;return c?Object(K.jsx)("div",{className:"pt-5",children:Object(K.jsx)("div",{className:"loader py-5"})}):(s=s.filter((function(e){return(null===e||void 0===e?void 0:e._id)!==(null===t||void 0===t?void 0:t._id)})),(null===t||void 0===t?void 0:t.following)&&(null===t||void 0===t?void 0:t.following.length)>0&&t.following.forEach((function(e){return s.map((function(t){return t.user._id===e?s.splice(s.indexOf(e),1):console.log("nope")}))})),Object(K.jsxs)(K.Fragment,{children:[c&&Object(K.jsx)("div",{className:"pt-5",children:Object(K.jsx)("div",{className:"loader py-5"})}),!c&&Object(K.jsxs)(K.Fragment,{children:[Object(K.jsxs)("section",{className:"d-flex align-items-center justify-content-between",children:[Object(K.jsx)("img",{style:{borderRadius:"50%",objectFit:"cover"},width:"50rem",height:"50rem",src:null===t||void 0===t?void 0:t.user.profileImage,alt:""}),Object(K.jsx)("h6",{className:" d-inline mx-2 flex-grow-1",children:Object(K.jsx)(n.b,{to:"/profile/".concat(t.user._id),children:null===t||void 0===t?void 0:t.user.username})}),Object(K.jsx)("p",{style:{cursor:"pointer"},onClick:function(){return r(V())},children:" Logout"})]}),Object(K.jsxs)("section",{className:"mt-4",children:[Object(K.jsx)("small",{className:"text-muted mb-2",children:"Suggestions for you"}),Object(K.jsx)("section",{children:!c&&s.map((function(e){return Object(K.jsxs)("div",{className:"d-flex py-2 justify-content-between align-items-center",children:[Object(K.jsx)("img",{style:{borderRadius:"50%",objectFit:"cover"},width:"40rem",height:"40rem",src:null===e||void 0===e?void 0:e.user.profileImage,alt:""}),Object(K.jsxs)("div",{className:"flex-grow-1 mx-2",children:[Object(K.jsx)("h6",{className:" d-inline ",children:e.user.username}),Object(K.jsx)("small",{className:"text-muted d-block",children:e.user.fullname})]}),e.followers.find((function(e){return e===l._id}))?Object(K.jsx)(K.Fragment,{children:Object(K.jsx)("p",{style:{cursor:"pointer"},"data-bs-dismiss":"modal",onClick:function(){r(U(e._id))},children:"Unfollow"})}):Object(K.jsx)("p",{className:"text-primary",style:{cursor:"pointer"},onClick:function(){r(U(e._id))},children:"Follow"})]},e._id)}))})]})]})]}))},je=function(){var e=Object(i.c)((function(e){return e.profile})),t=e.profile,s=e.loading,c=Object(i.b)();return Object(a.useEffect)((function(){c(M())}),[c]),s?Object(K.jsx)("div",{className:"pt-5",children:Object(K.jsx)("div",{className:"loader py-5"})}):Object(K.jsx)(K.Fragment,{children:(null===t||void 0===t?void 0:t.following)&&(null===t||void 0===t?void 0:t.following.length)>0?Object(K.jsx)("div",{className:"w-75 offset-md-1",children:Object(K.jsxs)("div",{className:"row",children:[Object(K.jsx)("div",{className:"col-md-8 mt-4 ",children:Object(K.jsx)(oe,{})}),Object(K.jsx)("div",{className:"col-md-4 mt-4 ",style:{zIndex:"0"},children:Object(K.jsx)("div",{className:"sticky-top",style:{top:"2rem"},children:Object(K.jsx)(de,{profile:t})})})]})}):Object(K.jsx)("div",{className:"row",children:Object(K.jsx)("div",{className:"col-md-8 offset-md-2 mt-4 ",children:Object(K.jsx)(ie,{})})})})},me=function(e){var t=e.profile,s=Object(i.c)((function(e){return e.auth.user})),a=t.followers.find((function(e){return e===s._id})),c=Object(i.b)(),r=function(){c(U(t._id))};return Object(K.jsx)(K.Fragment,{children:Object(K.jsxs)("div",{className:"row w-75",children:[Object(K.jsx)("div",{className:"col-md-5 col-sm-4 text-center mt-3",children:Object(K.jsx)("img",{src:t.user.profileImage,style:{width:"10rem",height:"10rem",borderRadius:"50%",objectFit:"cover"},alt:""})}),Object(K.jsxs)("div",{className:"col-md-7 col-sm-8 mt-3 d-flex flex-column",children:[Object(K.jsxs)("div",{className:"d-flex align-items-center",children:[Object(K.jsx)("h4",{className:"d-inline mr-md-3",children:t.user.username}),t.user._id===s._id?Object(K.jsx)(n.b,{className:"btn btn-outline-dark mx-md-3",to:"/profile/edit",children:"Edit profile"}):a?Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)("button",{className:"btn btn-outline-dark btn-sm px-2 mx-2",children:"message"}),Object(K.jsx)("button",{className:"btn btn-outline-dark btn-sm px-2",onClick:r,children:Object(K.jsx)("i",{className:"fas fa-user-check"})})]}):Object(K.jsx)("button",{className:"btn btn-primary px-2 mx-2",onClick:r,children:"Follow"}),Object(K.jsx)("p",{className:"d-inline fs-5 mx-3",children:Object(K.jsx)("i",{className:"fas fa-cog"})})]}),Object(K.jsxs)("div",{className:"my-3",children:[Object(K.jsxs)("p",{className:"d-inline mr-md-3 mr-2 ",children:[Object(K.jsx)("strong",{children:t.posts.length})," posts"]}),Object(K.jsxs)("p",{className:"d-inline mx-md-3 mx-2",children:[Object(K.jsx)("strong",{children:t.followers.length})," followers"]}),Object(K.jsxs)("p",{className:"d-inline",children:[Object(K.jsx)("strong",{children:t.following.length})," following"]})]}),Object(K.jsx)("div",{children:Object(K.jsxs)("p",{children:[Object(K.jsx)("strong",{children:t.user.fullname}),Object(K.jsx)("p",{children:t.bio})]})})]})]})})},be=function(e){var t,s=e.post,c=e.profile,r=e.explore,l=e.myProfile,o=Object(a.useState)(""),d=Object(ce.a)(o,2),j=d[0],m=d[1],b=Object(i.c)((function(e){return e.auth.user})),u=Object(i.b)(),p=function(){u(ee(s._id,b._id))};return s?Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)("div",{className:"modal fade",id:"body".concat(s._id),tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(K.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:Object(K.jsx)("div",{className:"modal-content",children:Object(K.jsx)("div",{className:"modal-body",style:{padding:"0%",margin:"0%",borderRadius:"0%"},children:Object(K.jsx)("div",{className:"card",children:Object(K.jsxs)("div",{className:"row no-gutters",children:[Object(K.jsx)("div",{className:"col-md-8",children:Object(K.jsx)("img",{src:s.image,className:"card-img",alt:"...",style:{height:"35rem",overflow:"hidden",display:"block",objectFit:"cover",borderRadius:"0%"}})}),Object(K.jsxs)("div",{className:"col-md-4 d-flex flex-column justify-content-between",children:[Object(K.jsxs)("div",{className:"",children:[Object(K.jsxs)("section",{className:"py-3 border-bottom d-flex justify-content-between align-items-center",children:[Object(K.jsx)("section",{children:l?Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)("img",{"data-bs-dismiss":"modal",style:{borderRadius:"50%",objectFit:"cover"},src:r?s.user.profileImage:c.user.profileImage,width:"30rem",height:"30rem",alt:""}),Object(K.jsx)("h6",{className:"mx-3 d-inline","data-bs-dismiss":"modal",children:r?s.user.username:c.user.username})]}):Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(n.b,{to:s.user._id===b._id?"/profile/me":"/profile/".concat(s.user._id),className:"mx-1",children:Object(K.jsx)("img",{"data-bs-dismiss":"modal",style:{borderRadius:"50%",objectFit:"cover"},src:r?s.user.profileImage:c.user.profileImage,width:"30rem",height:"30rem",alt:""})}),Object(K.jsx)(n.b,{to:s.user._id===b._id?"/profile/me":"/profile/".concat(s.user._id),style:{textDecoration:"none",color:"black"},children:Object(K.jsx)("h6",{className:"mx-3 d-inline","data-bs-dismiss":"modal",children:r?s.user.username:c.user.username})})]})}),Object(K.jsx)("p",{children:"actions"})]}),Object(K.jsxs)("div",{className:"commentsection",children:[s.text&&Object(K.jsxs)("div",{className:"py-2",children:[Object(K.jsx)("img",{style:{borderRadius:"50%",objectFit:"cover"},src:s.user.profileImage,width:"30rem",height:"30rem",alt:""}),Object(K.jsx)("h6",{className:"mx-3",children:s.user.username})," ",s.text]}),!s.comments||0===s.comments.length&&Object(K.jsx)("small",{className:"text-muted",children:"No comments"}),s.comments&&s.comments.length>0&&s.comments.map((function(e){return Object(K.jsxs)("div",{className:"py-3 d-flex justify-content-between align-items-center",children:[Object(K.jsxs)("section",{children:[Object(K.jsx)("img",{src:e.profileImage,style:{borderRadius:"50%",objectFit:"cover"},width:"25rem",height:"25rem",alt:""}),Object(K.jsx)("h6",{className:"mx-2 d-inline ",children:e.username}),e.text,Object(K.jsxs)("section",{className:"text-muted ",children:[Object(K.jsx)("small",{children:Object(K.jsx)("small",{children:ne()(e.date).fromNow(!0)})}),Object(K.jsx)("small",{className:"mx-2",children:Object(K.jsxs)("small",{children:[e.likes.length," Likes"]})}),b.username===e.username&&Object(K.jsx)("small",{style:{cursor:"pointer"},children:Object(K.jsx)("small",{onClick:function(){return u(ae(s._id,e._id,c.user._id))},children:"Delete"})})]})]}),Object(K.jsx)("section",{className:"px-2",onClick:function(){return u(se(s._id,e._id,c.user._id))},children:e.likes.find((function(e){return e._id===b._id}))?Object(K.jsx)("i",{className:"fas fa-heart",style:{color:"#fb3958",cursor:"pointer"}}):Object(K.jsx)("i",{className:"far fa-heart",style:{cursor:"pointer"}})})]},e._id)}))]})]}),Object(K.jsxs)("div",{className:"border-top pt-1",children:[Object(K.jsxs)("section",{children:[Object(K.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(K.jsxs)("p",{className:"card-text fs-5 pb-1",children:[s.likes&&s.likes.length>0&&!s.likes.find((function(e){return e.user===b._id}))?Object(K.jsx)("i",{className:"far fa-heart",onClick:p,style:{cursor:"pointer"}}):Object(K.jsx)("i",{className:"fas fa-heart",onClick:p,style:{cursor:"pointer",color:"#fb3958"}}),Object(K.jsx)("i",{className:"far fa-comment mx-3",style:{cursor:"pointer"}}),Object(K.jsx)("i",{className:"far fa-paper-plane",style:{cursor:"pointer"}})]}),Object(K.jsx)("p",{className:"card-text fs-5 px-2",children:Object(K.jsx)("i",{className:"far fa-bookmark",style:{cursor:"pointer"}})})]}),Object(K.jsxs)("small",{className:"py-1",children:[Object(K.jsx)("b",{children:s.likes&&s.likes.length>0?null===s||void 0===s||null===(t=s.likes)||void 0===t?void 0:t.length:0})," likes"]}),Object(K.jsx)("small",{children:Object(K.jsx)("small",{className:"text-muted d-block mb-2",children:ne()(s.date).fromNow()})})]}),Object(K.jsx)("section",{className:"border-top py-1",children:Object(K.jsxs)("ul",{className:"list-group list-group-flush d-flex flex-row align-items-center justify-content-between",children:[Object(K.jsx)("input",{className:"list-group-item w-100",placeholder:"Add comment",name:"comment",value:j,style:{borderBottom:"none"},onChange:function(e){m(e.target.value)}}),Object(K.jsx)("p",{className:"px-2 text-primary",style:{cursor:"pointer"},onClick:function(){u(r?te(s._id,{text:j}):te(s._id,{text:j},c.user._id)),m("")},children:"share"})]})})]})]})]})})})})})}),Object(K.jsxs)("div",{className:"col-4 px-4 my-2  profilepost ","data-bs-toggle":"modal",style:{cursor:"pointer"},"data-bs-target":"#body".concat(s._id),children:[Object(K.jsx)("img",{className:"post",src:s.image,alt:""}),Object(K.jsx)("div",{className:"over ",children:Object(K.jsxs)("div",{className:"buttons fs-6 text-white ",children:[Object(K.jsxs)("div",{className:" d-inline",children:[Object(K.jsx)("i",{className:"fas fa-heart mx-1"}),s.likes.length]}),Object(K.jsxs)("div",{className:"px-3 d-inline",children:[Object(K.jsx)("i",{className:"fas fa-comment mx-1"}),s.comments.length]})]})})]})]}):"...loading"},ue=(s(87),function(e){var t=e.profile,s=null===t||void 0===t?void 0:t.posts;return Object(K.jsx)(K.Fragment,{children:Object(K.jsx)("div",{className:"row w-75",children:s||0!==s.length?s.map((function(e){return Object(K.jsx)(be,{post:e,profile:t,myProfile:!0},e._id)})):"No posts"})})}),pe=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.profile})),s=t.profile,c=t.loading;return Object(a.useEffect)((function(){s||e(M())}),[e]),Object(K.jsx)(K.Fragment,{children:c?Object(K.jsx)("div",{className:"pt-5",children:Object(K.jsx)("div",{className:"loader py-5"})}):Object(K.jsxs)("div",{className:"w-75 offset-md-2 d-flex flex-column",children:[Object(K.jsx)(me,{profile:s}),Object(K.jsx)("hr",{className:"w-75"}),Object(K.jsx)(ue,{profile:s})]})})},xe=s(17),he=function(){var e=Object(a.useState)(!0),t=Object(ce.a)(e,2),s=t[0],c=t[1],r=Object(i.b)(),n=Object(a.useState)({email:"",password:"",username:"",fullname:""}),o=Object(ce.a)(n,2),m=o[0],f=o[1],g=m.email,v=m.password,y=m.username,N=m.fullname;if(Object(i.c)((function(e){return e.auth.isAuthenticated})))return r(M()),Object(K.jsx)(l.a,{to:"/"});var k=function(e){f(Object(W.a)(Object(W.a)({},m),{},Object(xe.a)({},e.target.name,e.target.value)))};return Object(K.jsx)(K.Fragment,{children:Object(K.jsx)("div",{className:"row",children:Object(K.jsxs)("div",{className:"col-md-4 mt-5 offset-md-4",children:[Object(K.jsxs)("div",{className:"card p-5",children:[Object(K.jsxs)("form",{children:[Object(K.jsx)("div",{className:"mb-5",children:Object(K.jsx)("span",{title:"Instagram / Mackey Saturday, Public domain, via Wikimedia Commons",children:Object(K.jsx)("img",{style:{width:"19rem"},alt:"Instagram logo",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2a/Instagram_logo.svg/256px-Instagram_logo.svg.png"})})}),Object(K.jsx)("div",{className:" my-2",children:Object(K.jsx)("input",{type:"email",name:"email",className:"form-control bg-light",placeholder:"Email",value:g,onChange:k,required:!0})}),!s&&Object(K.jsxs)(K.Fragment,{children:[" ",Object(K.jsx)("div",{className:" my-2",children:Object(K.jsx)("input",{type:"text",name:"username",className:"form-control bg-light",required:!0,placeholder:"Username",value:y,onChange:k})}),Object(K.jsx)("div",{className:" my-2",children:Object(K.jsx)("input",{type:"text",name:"fullname",className:"form-control bg-light",placeholder:"Fullname",required:!0,value:N,onChange:k})})]}),Object(K.jsx)("div",{className:" my-1",children:Object(K.jsx)("input",{type:"password",name:"password",className:"form-control bg-light",placeholder:"Password",required:!0,value:v,onChange:k})})]}),Object(K.jsx)("button",{className:"btn btn-primary mt-3 btn-block",onClick:function(e){if(e.preventDefault(),s){if(!g||!v)return void r(u("Please enter correct details","danger"));r(function(e){return function(){var t=Object(j.a)(d.a.mark((function t(s){var a,c,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,b.a.post("".concat(G,"/api/auth"),e,a);case 4:c=t.sent,s({type:h,payload:c.data}),s(B()),t.next=15;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0),(r=t.t0.response.data.errors)&&r.forEach((function(e){return s(u(e.msg,"danger"))})),s({type:O});case 15:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(m))}else{if(!g||!v||!y||!N)return void r(u("Please enter correct details","danger"));r(function(e){return function(){var t=Object(j.a)(d.a.mark((function t(s){var a,c,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,b.a.post("".concat(G,"/api/user"),e,a);case 4:c=t.sent,s({type:p,payload:c.data}),s(B()),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(1),(r=t.t0.response.data.errors)&&r.forEach((function(e){return s(u(e.msg,"danger"))})),s({type:x});case 14:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(m))}},children:s?"Sign in":"Register"})]}),Object(K.jsx)("div",{className:"card mt-3 text-center px-5 py-3",children:s?Object(K.jsxs)(K.Fragment,{children:["Don't have an account?",Object(K.jsx)("span",{className:"text-primary",style:{cursor:"pointer"},onClick:function(){return c(!s)},children:"Sign Up"})," "]}):Object(K.jsxs)(K.Fragment,{children:["Already have an account?",Object(K.jsx)("span",{className:"text-primary",style:{cursor:"pointer"},onClick:function(){return c(!s)},children:"Sign In"})," "]})})]})})})},Oe=s(27),fe=s.n(Oe),ge=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.profile})),s=t.profile,c=t.loading;Object(a.useEffect)((function(){e(M()),m({username:c||!s.user?"":s.user.username,image:c||!s.user?"":s.user.profileImage,fullname:c||!s.user?"":s.user.fullname,bio:c||!s.bio?"":s.bio,website:c||!s.website?"":s.website,email:c||!s.email?"":s.email,gender:c||!s.gender?"":s.gender})}),[e,c]);var r=Object(a.useState)({username:"",image:"",fullname:"",bio:"",website:"",email:"",gender:""}),l=Object(ce.a)(r,2),o=l[0],m=l[1],p=o.username,x=o.fullname,h=o.bio,O=o.website,f=o.email,g=o.gender,v=o.image,y=function(e){m(Object(W.a)(Object(W.a)({},o),{},Object(xe.a)({},e.target.name,e.target.value)))};return c?"...Loading":Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)("div",{className:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(K.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-sm ",children:Object(K.jsxs)("div",{className:"modal-content text-center",children:[Object(K.jsx)("h5",{className:"py-3",children:"Change Profile Photo"}),Object(K.jsx)("hr",{}),Object(K.jsxs)("p",{className:"py-2 text-primary","data-bs-dismiss":"modal",children:["Add new photo",Object(K.jsx)("div",{className:"imageInput",children:Object(K.jsx)(fe.a,{type:"file",multiple:!1,onDone:function(e){var t=e.base64;return m(Object(W.a)(Object(W.a)({},o),{},{image:t}))}})})]}),Object(K.jsx)("hr",{}),Object(K.jsx)("p",{className:"py-2 text-danger","data-bs-dismiss":"modal",children:"Remove current photo"}),Object(K.jsx)("hr",{}),Object(K.jsx)("p",{className:"py-2","data-bs-dismiss":"modal",children:"Close"}),Object(K.jsx)("hr",{})]})})}),Object(K.jsx)("div",{className:"row",children:Object(K.jsx)("div",{className:"col-md-6 offset-md-3 ",children:Object(K.jsx)("div",{className:"card my-5",children:Object(K.jsx)("div",{className:"card-body",children:Object(K.jsxs)("form",{className:"px-4 py-5",children:[Object(K.jsxs)("div",{className:"form-group row mb-4",children:[Object(K.jsx)("label",{for:"inputEmail3",className:"col-sm-2 col-form-label",children:Object(K.jsx)("img",{style:{borderRadius:"50%",objectFit:"cover"},src:v,width:"60rem",height:"60rem",alt:""})}),Object(K.jsxs)("div",{className:"col-sm-10",children:[Object(K.jsx)("p",{className:"fs-5",children:p}),Object(K.jsx)("h6",{id:"emailHelp",className:"form-text text-primary","data-bs-toggle":"modal","data-bs-target":"#exampleModal",style:{cursor:"pointer"},children:"Change Profile Photo"})]})]}),Object(K.jsxs)("div",{className:"form-group row mb-4",children:[Object(K.jsx)("label",{for:"inputEmail3",className:"col-sm-2 col-form-label",children:Object(K.jsx)("strong",{children:"Name"})}),Object(K.jsxs)("div",{className:"col-sm-10",children:[Object(K.jsx)("input",{type:"text",name:"fullname",className:"form-control",id:"inputEmail3",placeholder:"Name",value:x,onChange:y}),Object(K.jsx)("small",{id:"emailHelp",className:"form-text text-muted",children:"Help people discover your account by using the name you're known by: either your full name, nickname, or business name."})]})]}),Object(K.jsxs)("div",{className:"form-group row mb-4",children:[Object(K.jsx)("label",{for:"inputPassword32",className:"col-sm-2 col-form-label",children:Object(K.jsx)("strong",{children:"Username"})}),Object(K.jsx)("div",{className:"col-sm-10",children:Object(K.jsx)("input",{type:"text",name:"username",className:"form-control",id:"inputPassword32",placeholder:"Username",value:p,onChange:y})})]}),Object(K.jsxs)("div",{className:"form-group row mb-4",children:[Object(K.jsx)("label",{for:"inputPassword31",className:"col-sm-2 col-form-label",children:Object(K.jsx)("strong",{children:"Website"})}),Object(K.jsx)("div",{className:"col-sm-10",children:Object(K.jsx)("input",{type:"text",name:"website",className:"form-control",id:"inputPassword31",placeholder:"Website",value:O,onChange:y})})]}),Object(K.jsxs)("div",{className:"form-group row mb-4",children:[Object(K.jsx)("label",{for:"inputPassword34",className:"col-sm-2 col-form-label",children:Object(K.jsx)("strong",{children:"Bio"})}),Object(K.jsx)("div",{className:"col-sm-10",children:Object(K.jsx)("textarea",{type:"text",name:"bio",className:"form-control",id:"inputPassword34",placeholder:"Write about yourself (Max 100 characters)",maxLength:"100",value:h,onChange:y})})]}),Object(K.jsxs)("div",{className:"form-group row mb-4",children:[Object(K.jsx)("label",{for:"inputPassword34",className:"col-sm-2 col-form-label"}),Object(K.jsx)("div",{className:"col-sm-10",children:Object(K.jsxs)("small",{id:"emailHelp",className:"form-text text-muted",children:[Object(K.jsx)("div",{className:"text-dark",children:"Personal Information"}),"Provide your personal information, even if the account is used for a business, a pet or something else. This won't be a part of your public profile."]})})]}),Object(K.jsxs)("div",{className:"form-group row mb-4",children:[Object(K.jsx)("label",{for:"inputPassword3s",className:"col-sm-2 col-form-label",children:Object(K.jsx)("strong",{children:"Email"})}),Object(K.jsxs)("div",{className:"col-sm-10",children:[Object(K.jsx)("input",{type:"text",name:"email",className:"form-control",id:"inputPassword3s",placeholder:"Email",value:f,onChange:y}),Object(K.jsx)("small",{id:"emailHelp",className:"form-text text-muted",children:"We'll never share your email with anyone else."})]})]}),Object(K.jsxs)("div",{className:"form-group row mb-4",children:[Object(K.jsx)("label",{for:"inputPassword3c",className:"col-sm-2 col-form-label",children:Object(K.jsx)("strong",{children:"Gender"})}),Object(K.jsxs)("div",{className:"col-sm-10",children:[Object(K.jsx)("input",{type:"text",name:"gender",className:"form-control",id:"inputPassword3c",placeholder:"Gender",value:g,onChange:y}),Object(K.jsx)("small",{id:"emailHelp",className:"form-text text-muted",children:"We'll never share your identity with anyone else."})]})]}),Object(K.jsxs)("div",{className:"form-group row mb-4",children:[Object(K.jsx)("label",{for:"inputPassword3c",className:"col-sm-2 col-form-label"}),Object(K.jsxs)("div",{className:"col-sm-10",children:[Object(K.jsx)("button",{className:"btn btn-primary",onClick:function(t){t.preventDefault(),e(function(e){return function(){var t=Object(j.a)(d.a.mark((function t(s){var a,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a={headers:{"Content-Type":"application/json"}},t.next=4,b.a.patch("".concat(P,"/api/profile/edit"),e,a);case 4:c=t.sent,s({type:N,payload:c.data}),s(u("Updated Profile","success")),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),s({type:k});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(o)),e(function(e){return function(){var t=Object(j.a)(d.a.mark((function t(s){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a={headers:{"Content-Type":"application/json"}},t.next=4,b.a.patch("".concat(P,"/api/auth/editImage"),e,a);case 4:s(u("Updated Image","success")),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),s({type:k});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}({image:v}))},children:"Submit"}),Object(K.jsx)(n.b,{to:"/profile/me",className:"btn btn-outline-primary mx-3",children:"Go back"})]})]})]})})})})})]})},ve=function(){var e=Object(i.c)((function(e){return e.auth})),t=e.user,s=e.loading,c=Object(i.b)(),r=Object(a.useState)({image:"",text:"",location:""}),n=Object(ce.a)(r,2),o=n[0],m=n[1],p=Object(a.useState)(!1),x=Object(ce.a)(p,2),h=x[0],O=x[1],f=o.image,g=o.text,v=o.location,y=function(e){m(Object(W.a)(Object(W.a)({},o),{},Object(xe.a)({},e.target.name,e.target.value)))};return h&&!s?Object(K.jsx)(l.a,{to:"/"}):Object(K.jsxs)("div",{className:"row ",children:[Object(K.jsxs)("div",{className:"card mt-5 w-75 offset-md-1",children:[Object(K.jsx)("div",{className:"text-center mt-3",children:"Create a post"}),Object(K.jsx)("hr",{}),Object(K.jsxs)("div",{className:"row no-gutters ",children:[Object(K.jsx)("div",{className:"col-md-8",children:Object(K.jsx)("form",{className:"md-form",children:Object(K.jsxs)("div",{className:"file-field",children:[Object(K.jsx)("div",{className:"z-depth-1-half mb-4",children:f?Object(K.jsx)("img",{src:f,className:"img-fluid virtual",alt:"example "}):Object(K.jsx)("img",{src:"https://mdbootstrap.com/img/Photos/Others/placeholder.jpg",className:"img-fluid virtual",alt:"example placeholder"})}),Object(K.jsx)("div",{className:"d-flex justify-content-center",children:Object(K.jsx)("div",{className:"btn btn-mdb-color btn-rounded float-left",children:Object(K.jsx)(fe.a,{type:"file",multiple:!1,onDone:function(e){var t=e.base64;return m(Object(W.a)(Object(W.a)({},o),{},{image:t}))}})})})]})})}),Object(K.jsxs)("div",{className:"col-md-4 ",children:[s?"...loading":Object(K.jsxs)("h5",{className:"card-title",children:[Object(K.jsx)("img",{src:t.profileImage,alt:"",width:"25rem",style:{borderRadius:"50%"}})," ",t.username]}),Object(K.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(K.jsx)("textarea",{className:"list-group-item",rows:"8",name:"text",placeholder:"Write a caption",onChange:y,value:g}),Object(K.jsx)("input",{className:"list-group-item ",placeholder:"Add location",onChange:y,name:"location",value:v}),Object(K.jsx)("button",{className:"btn btn-primary mt-3",onClick:function(){c(function(e){return function(){var t=Object(j.a)(d.a.mark((function t(s){var a,c,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,b.a.post("".concat(Z),e,a);case 4:c=t.sent,s({type:_,payload:c.data}),t.next=14;break;case 8:t.prev=8,t.t0=t.catch(1),s(u("File too large","danger")),(r=t.t0.response.data.errors)&&r.forEach((function(e){return s(u(e.msg,"danger"))})),s({type:A,payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 14:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(o)),O(!0)},children:"Add post"})]})]})]})]}),Object(K.jsx)("div",{className:"col-md-8"})]})},ye=function(e){var t=e.match,s=Object(i.b)(),c=Object(i.c)((function(e){return e.profile})),r=c.profile,n=c.loading;return Object(a.useEffect)((function(){s(function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:I})}catch(s){t({type:k})}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),s(J(t.params.id))}),[s,t.params.id]),Object(K.jsx)(K.Fragment,{children:n?Object(K.jsx)("div",{className:"pt-5",children:Object(K.jsx)("div",{className:"loader py-5"})}):Object(K.jsxs)("div",{className:"w-75 offset-md-2 d-flex flex-column",children:[r?Object(K.jsx)(me,{profile:r}):Object(K.jsx)("div",{className:"pt-5",children:Object(K.jsx)("div",{className:"loader py-5"})}),Object(K.jsx)("hr",{className:"w-75"}),r?Object(K.jsx)(ue,{profile:r}):Object(K.jsx)("div",{className:"pt-5",children:Object(K.jsx)("div",{className:"loader py-5"})})]})})},Ne=function(){var e=Object(i.b)();Object(a.useEffect)((function(){e($())}),[e]);var t=Object(i.c)((function(e){return e.post})),s=t.posts,c=t.loading,r=Object(i.c)((function(e){return e.profile})),n=r.profile,l=r.pLoading;return c||l?Object(K.jsx)("div",{className:"pt-5",children:Object(K.jsx)("div",{className:"loader py-5"})}):Object(K.jsx)(K.Fragment,{children:Object(K.jsx)("div",{className:"w-75",children:Object(K.jsx)("div",{className:"row offset-3 pt-3",children:s.map((function(e){return Object(K.jsx)(be,{post:e,profile:n,explore:!0},e._id)}))})})})};localStorage.token&&L(localStorage.token);var ke=function(){var e=Object(i.c)((function(e){return e.auth})),t=e.isAuthenticated,s=e.loading,c=Object(i.b)();return Object(a.useEffect)((function(){c(B())}),[c]),Object(K.jsxs)(n.a,{children:[t&&!s&&Object(K.jsx)(Q,{}),Object(K.jsx)("div",{className:" app",children:Object(K.jsxs)("div",{className:"container ",children:[Object(K.jsx)(X,{}),Object(K.jsxs)(l.d,{children:[Object(K.jsx)(q,{exact:!0,path:"/",component:je}),Object(K.jsx)(l.b,{exact:!0,path:"/auth",component:he}),Object(K.jsx)(q,{exact:!0,path:"/profile/me",component:pe}),Object(K.jsx)(q,{exact:!0,path:"/profile/edit",component:ge}),Object(K.jsx)(q,{exact:!0,path:"/create",component:ve}),Object(K.jsx)(q,{exact:!0,path:"/profile/:id",component:ye}),Object(K.jsx)(q,{exact:!0,path:"/explore",component:Ne}),Object(K.jsx)(l.a,{to:"/"})]})]})})]})},Ie=s(20),we=(s(88),s(45)),Ce=s(46),Ee=[],Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0,s=t.type,a=t.payload;switch(s){case"SET_ALERT":return[].concat(Object(Ce.a)(e),[a]);case"REMOVE_ALERT":return e.filter((function(e){return e.id!==a}));default:return e}},_e={isAuthenticated:!1,loading:!0,token:localStorage.getItem("token"),user:null},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0,s=t.type,a=t.payload;switch(s){case f:return Object(W.a)(Object(W.a)({},e),{},{isAuthenticated:!0,user:a,loading:!1});case p:case h:return Object(W.a)(Object(W.a)(Object(W.a)({},e),a),{},{loading:!1,isAuthenticated:!0,token:localStorage.setItem("token",a.token)});case x:case O:case g:case v:return localStorage.removeItem("token"),Object(W.a)(Object(W.a)({},e),{},{loading:!1,isAuthenticated:!1,token:null});default:return e}},He={profile:null,profiles:[],loading:!0,error:{}},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0,s=t.type,a=t.payload;switch(s){case y:case N:return Object(W.a)(Object(W.a)({},e),{},{profile:a,loading:!1});case k:case I:return Object(W.a)(Object(W.a)({},e),{},{profile:null,loading:!1,error:a});case w:return Object(W.a)(Object(W.a)({},e),{},{profile:Object(W.a)(Object(W.a)({},e.profile),{},{followers:a}),loading:!1});case C:return Object(W.a)(Object(W.a)({},e),{},{profiles:a,loading:!1});default:return e}},Fe={post:null,posts:[],loading:!0,error:{}},Te=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,s=arguments.length>1?arguments[1]:void 0,a=s.type,c=s.payload;null===t||void 0===t||null===(e=t.post)||void 0===e||e.comments;switch(a){case E:return Object(W.a)(Object(W.a)({},t),{},{posts:c,loading:!1});case _:return Object(W.a)(Object(W.a)({},t),{},{post:c,loading:!1});case A:return Object(W.a)(Object(W.a)({},t),{},{error:c,loading:!1});case S:return Object(W.a)(Object(W.a)({},t),{},{posts:t.posts.map((function(e){return e._id===c.id?Object(W.a)(Object(W.a)({},e),{},{likes:c.likes}):e})),loading:!1});case H:return Object(W.a)(Object(W.a)({},t),{},{posts:t.posts.filter((function(e){return e._id!==c})),loading:!1});case R:return Object(W.a)(Object(W.a)({},t),{},{post:Object(W.a)(Object(W.a)({},t.post),{},{comments:c}),loading:!1});case F:return Object(W.a)(Object(W.a)({},t),{},{posts:t.posts.map((function(e){return e._id===c.id?Object(W.a)(Object(W.a)({},e),{},{comments:e.comments.map((function(e){return e._id===c.commentId?Object(W.a)(Object(W.a)({},e),{},{likes:c.likes}):e}))}):e})),loading:!1});case T:return Object(W.a)(Object(W.a)({},t),{},{posts:t.posts.map((function(e){return e._id===c.id?Object(W.a)(Object(W.a)({},e),{},{comments:e.comments.filter((function(e){return e._id!==c.commentId}))}):e})),loading:!1});default:return t}},Le=Object(Ie.b)({alert:Ae,auth:Se,profile:Re,post:Te}),Pe=Object(Ie.d)(Le,Object(Ie.c)(Object(Ie.a)(we.a)));r.a.render(Object(K.jsx)(i.a,{store:Pe,children:Object(K.jsx)(ke,{})}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.23a972b9.chunk.js.map