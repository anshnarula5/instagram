{"version":3,"sources":["redux/actions/alerts.js","redux/type.js","utils/setAuthToken.js","redux/actions/profile.js","redux/actions/auth.js","components/layout/Navbar.js","img/logo1.png","components/routing/PrivateRoute.js","components/layout/Alert.js","redux/actions/post.js","components/Home/Post/Post.js","components/Home/Profiles.js","components/Home/Posts.js","components/Home/Right.js","components/Home/Home.js","components/profile/ProfileDetail.js","components/profile/PostElement.js","components/profile/ProfilePost.js","components/profile/Profile.js","components/loginForm/Auth.js","components/profile/EditProfile.js","components/Home/CreatePost.js","components/profile/ProfileById.js","components/Home/Explore.js","App.js","redux/reducers/alerts.js","redux/reducers/auth.js","redux/reducers/profile.js","redux/reducers/post.js","redux/reducers/index.js","store.js","index.js"],"names":["setAlert","message","type","dispatch","id","Math","random","payload","setTimeout","REGISTER_SUCCESS","REGISTER_FAIL","LOGIN_SUCCESS","LOGIN_FAIL","USER_LOADED","AUTH_ERROR","LOGOUT","GET_PROFILE","EDIT_PROFILE","PROFILE_ERROR","CLEAR_PROFILE","FOLLOW","GET_ALL_PROFILES","GET_POSTS","POST_ERROR","CREATE_POST","LIKE_POST","DELETE_POST","COMMENT","LIKE_COMMENT","DELETE_COMMENT","setAuthToken","token","axios","defaults","headers","common","url","getProfile","a","get","res","data","getAllProfiles","getProfileById","follow","patch","loadUser","localStorage","logout","error","Navbar","useDispatch","className","to","src","alt","height","href","role","onClick","style","cursor","PrivateRoute","Component","component","rest","useSelector","state","auth","isAuthenticated","loading","render","props","Alert","alerts","alert","length","map","getPosts","msg","response","statusText","status","console","log","likePost","userId","likes","comment","text","config","post","errors","forEach","err","likeComment","commentId","deleteComment","delete","Post","useState","showText","setShowText","setText","user","handleLike","_id","handleChange","e","target","value","handleComment","tabindex","padding","margin","borderRadius","image","overflow","display","objectFit","profileImage","width","username","comments","moment","date","fromNow","find","like","color","placeholder","name","borderBottom","onChange","textDecoration","location","maxHeight","slice","Profiles","profile","profiles","useEffect","filter","p","fullname","followers","follower","Posts","posts","profileLoading","filteredPosts","following","push","Right","splice","indexOf","Home","zIndex","top","ProfileDetail","isFollowing","handleFollow","bio","PostElement","explore","myProfile","ProfilePost","Profile","Auth","isLogin","setisLogin","email","password","formData","setFormData","title","required","preventDefault","login","register","EditProfile","website","gender","multiple","onDone","base64","for","maxLength","editProfile","editImage","CreatePost","posted","setPosted","rows","createPost","ProfileById","match","params","Explore","pLoading","App","exact","path","initialState","action","getItem","setItem","removeItem","rootReducer","combineReducers","store","createStore","compose","applyMiddleware","thunk","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.23a972b9.chunk.js","sourcesContent":["\r\nexport const setAlert = (message, type) => dispatch => {\r\n    const id = Math.random()\r\n    dispatch({type: \"SET_ALERT\", payload: {message, type, id}})\r\n    setTimeout(() => {\r\n        dispatch({type : \"REMOVE_ALERT\", payload : id})\r\n    }, 3000)\r\n}","export const REGISTER_SUCCESS = \"REGISTER_SUCCESS\"\r\nexport const REGISTER_FAIL = \"REGISTER_FAIL\"\r\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\"\r\nexport const LOGIN_FAIL = \"LOGIN_FAIL\"\r\nexport const USER_LOADED = \"USER_LOADED\"\r\nexport const AUTH_ERROR = \"AUTH_ERROR\"\r\nexport const LOGOUT = \"LOGOUT\"\r\n\r\nexport const GET_PROFILE =  \"GET_PROFILE\"\r\nexport const EDIT_PROFILE =  \"EDIT_PROFILE\"\r\nexport const PROFILE_ERROR = \"PROFILE_ERROR\"\r\nexport const CLEAR_PROFILE = \"CLEAR_PROFILE\"\r\nexport const FOLLOW = \"FOLLOW\"\r\nexport const GET_ALL_PROFILES = \"GET_ALL_PROFILES\"\r\n\r\nexport const GET_POSTS =  \"GET_POSTS\"\r\nexport const POST_ERROR = \"POST_ERROR\"\r\nexport const CREATE_POST = \"CREATE_POST\"\r\nexport const LIKE_POST = \"LIKE_POST\"\r\nexport const DELETE_POST = \"DELETE_POST\"\r\nexport const COMMENT = \"COMMENT\"\r\nexport const LIKE_COMMENT = \"LIKE_COMMENT\"\r\nexport const DELETE_COMMENT = \"DELETE_COMMENT\"\r\nexport const GET_POST_BYID = \"GET_POST_BYID\"","import axios from \"axios\"\r\n\r\nconst setAuthToken = (token) => {\r\n    if (token) {\r\n        axios.defaults.headers.common[\"x-auth-token\"] = token\r\n    }\r\n    else {\r\n        delete axios.defaults.headers.common[\"x-auth-token\"]\r\n    }\r\n}\r\n\r\nexport default setAuthToken","import axios from \"axios\"\r\nimport {EDIT_PROFILE, FOLLOW, GET_PROFILE, PROFILE_ERROR, GET_ALL_PROFILES, CLEAR_PROFILE} from \"../type\"\r\nimport {setAlert} from \"./alerts\"\r\n\r\n//Get my profile\r\n\r\nconst url = \"https://instagram-a5.herokuapp.com\"\r\nexport const clearProfile = () => async (dispatch) => {\r\n    try {\r\n        dispatch({type : CLEAR_PROFILE})\r\n    } catch (error) {\r\n        dispatch({type : PROFILE_ERROR})\r\n    }\r\n}\r\n\r\nexport const getProfile = () => async (dispatch) => {\r\n    try {\r\n        const res = await axios.get(`${url}/api/profile/me`)\r\n        dispatch({type : GET_PROFILE, payload : res.data})\r\n    } catch (error) {\r\n        dispatch({type : PROFILE_ERROR})\r\n    }\r\n}\r\nexport const getAllProfiles = () => async (dispatch) => {\r\n    try {\r\n        const res = await axios.get(`${url}/api/profile`)\r\n        dispatch({type : GET_ALL_PROFILES, payload : res.data})\r\n    } catch (error) {\r\n        dispatch({type : PROFILE_ERROR})\r\n    }\r\n}\r\n\r\nexport const editProfile = (formData) => async (dispatch) => {\r\n    try {\r\n        const config = {\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n            },\r\n          };\r\n        const res = await axios.patch(`${url}/api/profile/edit`, formData, config)\r\n        dispatch({type: EDIT_PROFILE, payload: res.data})\r\n        dispatch(setAlert(\"Updated Profile\", \"success\"))\r\n    } catch (error) {\r\n        dispatch({type : PROFILE_ERROR})\r\n    }\r\n}\r\nexport const editImage = (formData) => async (dispatch) => {\r\n    try {\r\n        const config = {\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n            },\r\n          };\r\n        await axios.patch(`${url}/api/auth/editImage`, formData, config)\r\n        dispatch(setAlert(\"Updated Image\", \"success\"))\r\n    } catch (error) {\r\n        dispatch({type : PROFILE_ERROR})\r\n    }\r\n}\r\n\r\nexport const getProfileById = (id) => async dispatch => {\r\n    try {\r\n        const res = await axios.get(`${url}/api/profile/${id}`)\r\n        dispatch({type : GET_PROFILE, payload : res.data})\r\n    } catch (error) {\r\n        dispatch({type : PROFILE_ERROR})\r\n    }\r\n}\r\n\r\nexport const follow = (id) => async (dispatch) => {\r\n    try {\r\n        const res = await axios.patch(`${url}/api/profile/${id}/follow`)\r\n        dispatch({type: FOLLOW, payload: res.data})\r\n        dispatch(getAllProfiles( ))\r\n    } catch (error) {\r\n        dispatch({type : PROFILE_ERROR})\r\n    }\r\n}\r\n","import axios from \"axios\";\r\nimport {setAlert} from \"./alerts\";\r\nimport {REGISTER_SUCCESS, REGISTER_FAIL, LOGIN_SUCCESS, LOGIN_FAIL, USER_LOADED, AUTH_ERROR, LOGOUT, CLEAR_PROFILE} from \"../type\";\r\n\r\nimport setAuthToken from \"../../utils/setAuthToken\"\r\nimport {getProfile} from \"./profile\";\r\n\r\nconst url = \"https://instagram-a5.herokuapp.com\"\r\n\r\n//Load user\r\n\r\nexport const loadUser = () => async (dispatch) => {\r\n  if (localStorage.token) {\r\n    setAuthToken(localStorage.token)\r\n  }\r\n  try {\r\n    const res = await axios.get(`${url}/api/auth`)\r\n    dispatch({type: USER_LOADED, payload: res.data})\r\n    dispatch(getProfile())\r\n  } catch (error) {\r\n    dispatch({type : AUTH_ERROR})\r\n  }\r\n}\r\n\r\n\r\n//Register user\r\n\r\nexport const register = formData => async (dispatch) => {\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  };\r\n  try {\r\n    const res = await axios.post(`${url}/api/user`, formData, config);\r\n    dispatch({type: REGISTER_SUCCESS, payload: res.data});\r\n    dispatch(loadUser())\r\n  } catch (error) {\r\n      const errors = error.response.data.errors;\r\n    if (errors) {\r\n      errors.forEach((err) => dispatch(setAlert(err.msg, \"danger\")));\r\n      }\r\n    dispatch({ type: REGISTER_FAIL });\r\n  }\r\n}\r\n\r\nexport const login = formData => async (dispatch) => {\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  };\r\n  try {\r\n    const res = await axios.post(`${url}/api/auth`, formData, config)\r\n    dispatch({type: LOGIN_SUCCESS, payload: res.data})\r\n    dispatch(loadUser())\r\n\r\n  } catch (error) {\r\n    console.log(error)\r\n    const errors = error.response.data.errors;\r\n    if (errors) {\r\n      errors.forEach((err) => dispatch(setAlert(err.msg, \"danger\")));\r\n      }\r\n    dispatch({ type: LOGIN_FAIL });\r\n  }\r\n}\r\n\r\n//logout\r\n\r\nexport const logout = () => dispatch => {\r\n  try {\r\n    dispatch({type : CLEAR_PROFILE})\r\n    dispatch({type: LOGOUT})\r\n  } catch (error) {\r\n    dispatch({type : AUTH_ERROR})\r\n  }\r\n}","import React from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {Link} from \"react-router-dom\";\r\nimport logo from \"../../img/logo1.png\"\r\nimport {logout} from \"../../redux/actions/auth\";\r\n\r\nconst Navbar = () => {\r\n  const dispatch = useDispatch()\r\n\r\n  return (\r\n    <>\r\n      <nav className=\"navbar navbar-expand-lg navbar-light bg-white static-top border-bottom\">\r\n        <div className=\"container w-50\">\r\n          <Link className=\"navbar-brand \" to=\"/\">\r\n            <img\r\n              src={logo}\r\n              alt=\"...\"\r\n              height=\"36\"\r\n            />\r\n          </Link>\r\n          <button\r\n            className=\"navbar-toggler\"\r\n            type=\"button\"\r\n            data-bs-toggle=\"collapse\"\r\n            data-bs-target=\"#navbarSupportedContent\"\r\n            aria-controls=\"navbarSupportedContent\"\r\n            aria-expanded=\"false\"\r\n            aria-label=\"Toggle navigation\"\r\n          >\r\n            <span className=\"navbar-toggler-icon\"></span>\r\n          </button>\r\n          <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n            <ul className=\"navbar-nav ms-auto\">\r\n              <li className=\"nav-item fs-4 mx-1\">\r\n                <Link className=\"nav-link active\" aria-current=\"page\" to=\"/\">\r\n                <i className=\"fas fa-home\"></i>\r\n                </Link>\r\n              </li>\r\n              <li className=\"nav-item fs-4 mx-1\">\r\n                <Link className=\"nav-link active\" aria-current=\"page\" to=\"/auth\">\r\n                <i className=\"far fa-comment-dots\"></i>\r\n                </Link>\r\n              </li>\r\n              <li className=\"nav-item fs-4 mx-1\">\r\n                <Link className=\"nav-link active\" aria-current=\"page\" to=\"/create\">\r\n                <i className=\"far fa-plus-square\"></i>\r\n                </Link>\r\n              </li>\r\n              <li className=\"nav-item fs-4 mx-1\">\r\n                <Link className=\"nav-link active\" aria-current=\"page\" to=\"/explore\">\r\n                <i className=\"far fa-compass\"></i>\r\n                </Link>\r\n              </li>\r\n              <li className=\"nav-item fs-4 mx-1\">\r\n                <Link className=\"nav-link active\" aria-current=\"page\" to=\"/\">\r\n                <i className=\"far fa-heart\"></i>\r\n                </Link>\r\n              </li>\r\n              \r\n                 \r\n              <li className=\"nav-item dropdown fs-4 mx-1\" >\r\n                <a\r\n                  className=\"nav-link dropdown-toggle\"\r\n                  href=\"#\"\r\n                  id=\"navbarDropdown\"\r\n                  role=\"button\"\r\n                  data-bs-toggle=\"dropdown\"\r\n                  aria-expanded=\"false\"\r\n                >\r\n                  <i className=\"far fa-user\"></i>\r\n                </a>\r\n                <ul\r\n                  className=\"dropdown-menu dropdown-menu-end\"\r\n                  aria-labelledby=\"navbarDropdown\"\r\n                >\r\n                  <li>\r\n                    <Link className=\"dropdown-item\" to=\"/profile/me\">\r\n                      profile\r\n                    </Link>\r\n                  </li>\r\n                  <li>\r\n                    \r\n                  </li>\r\n                  <li>\r\n                    <hr className=\"dropdown-divider\" />\r\n                  </li>\r\n                  <li>\r\n                    <p className=\"dropdown-item\" onClick = {() => dispatch(logout())} style = {{cursor : \"pointer\"}}>\r\n                      Logout\r\n                    </p>\r\n                  </li>\r\n                </ul>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGcAAAAdCAMAAACAJoJsAAACwVBMVEUAAAAjHyAjHyD///8zIiIjHyBAQEAkICErICsmJiYsISEmIiKAgIAjHyAnISEtLS0kHyIpKSkkICEkHyEkHyE5OTkkICEjHyAzMzMuIyMkJCQjICElHyImISEjICErKyskJCQoKCgkICEkICEkICElICAmHyNAIEAkICEkISEnJyczMzMmJiYkICFVVVUkICAlISEjICAjHyEjHyElICAjHyEjHyEjICEkICEkICAkICIrIiIkHyAkHyEjICAkICAjHyElISEkISElICArKysmICArKysjICEkHyAkHyAkICIkISEnIyMkICElISEkHyAjICEuLi4kHyAjHyAlICUkISEnIyMkICAkJCQjHyAjHyEpIyMkHyEkICIkICEjICEjICAmIiIjICEkICIjICAkICAkISEkICAlHyIkICEwIDAoIiIjICIkHyIkISEkICQmISEkHyEkICElICIjICEkISEkICAkICAkICAjICAjISElHyEjISEkHyAkHyQjISEkISEmICYjICEkICAkISEkICAkHyApIiIjICEkICAkISElICMkJCQjHyEkICAjICEjHyEkHyEjHyEnIiIkICAjICEkHyAkHyEjICAkISEjHyAkICAkICInJyckHyEkICEkISEjICAjICEkHyEjHyEjICMkHyEmJiYjICAmISEkHyEkICAjIyMkICQlISEkICEjIyMnISEkISEkICAkICAkJCQlICIoIiIkJCQjICAjICAjICMkISEnJyckJCQlISEkICIjIyMkICEjICIpISEjICEkIiIjICAmIiImHyIkICAjIyMkHyEjISEkHyEkHyEkISEjICAmICMjICIkHyAlHyUlICAkHyAkJCQjHyMlHyElICIjICAkICEkICEkHyAlICAkHyAoICgkICAjICEmHyMlIiIkICEkICAkHyQjHyAYxkEZAAAA6nRSTlMA/fwBD/4E+hgUF0MC7i4Rchn5nPsJ+OYKFjLgWi/pBioTucDydlEIyUYaBRuoA3d9l7zDZ8xz2tBHgR7NlN+GikVObxJfDMr03XlNO6E+xdIL1b0wXUK/FfWDLKuAsNHnNcJw751rf1K4ECaYalxANrOqYdmFj8eWrl6SdO0xbZUokZ5Vz+Ql4daNYCO0t5nL23s0h9jsrJ9W9r5xIZPqZLXwpMRQmiKtPevOJDiE8R0nY36vK1ktB7amSIwNDnV4M7KJH+hb9zxKxjqjbOPzVKdYkN4pN9QcQYtoV+K65W7cII6gSVOxPzlNBvrEAAAEaklEQVR4XrXNU5OeiQJF4fV+atq2EXd3bNu2PbE5sTO2bds+tm2sX3HqfFW5m75IJf3c7dq7agP0+GFBQS+6Ulfw02e4GfKqQ99oBl34gc7hJugxy98/oEl0Yb/WcxP0dCmzNJkuvKcDuHHN+c5mnibyLcJ35adl67nq/TmJ3Jg6O6FGs/gWkZBxGvoNN6a/V6CvZlH1nTwgdeqXxM2eeBLyRmcV6MnK481QOTEziwhxRatuT2cGQGb768RB+Kklb8ca3gXY9hBEUj4Cyl4jboEL4UlNpJ93f0Ryu8HPw0BpoBkAp/UMwJiQru5t56vAHY9rcGe0vIl0HUfrLa8BLdvVPldD90I4cB0bTEunLOSfNgL82XUwTRPZosnhGnP1CKQ+ryVhgAJtBcpyrV2zS/0vxG7TDZfUTEbqgrs12AQ9dfqU8ToBWvTKL9XhHFNLAY65A76nyazV+X9w8DD9PlSpXwPwlY4GntXnqDqsxbBTH4bPdS0Ny9zVd7muIJLmzDwO6Dlo0M3D1N4Vadl6H8DomfdnsVeTOapJL2RXDtPZwDgLIgCU6wwozPdJoE0roY+5SfCo9oO++Uk8ZkID6+OxMOQpmKGbh0677JomT+hIAPKWjKBRixilAxzCrboJyNEJdwA8rzF4SV8GBupFUmttBEbo6yQGT8By22G4LgKGuhc+1sE+tdi2gwkDtIlrxul8VukTCYPI0VdhU+7CoWYfgB4/VmCr7gR66SAe0n8AKbqTnm6jUN+Hx3Q+sMuVsFFd3bLGy/2rV+hvueaqJpGp47fD+5oIS/eGmzuNjmSuBsBRXQ8M01bSdQ8wSccUlu+HRP0CajQGnLUGMtQdDPdcaEu6zuWads2gQy2FezSZEUExnMl2Op8HRlNhiP4MaNNBlGkOkKljDoWOwzO6DubFd+8GroTRaiYdavFF/S4UEjdYx/KJZo+FZ3VQQ+cQgDfNn9NYrRlUnNYOCJfoWyTrLGCx3l67Gxgb9UOYookwWQfDc2o992moJS/qASpKiOtvEKNO5xHfDzjxo42/aoY3DSVMHa4pTJwWuBRS1HqadHkqSffrgmUVABPsAzv0J3CvpsHT6me8o7+AoZ5n7l3EzfQsPKgDgYEaDVIWJaT16pmgL3NEGz9MKL5kqHTy2T6/9p6MlSW68K0HanX1iwCcNzT1pUdynV521N/pByMOq2focdpG2G35kep9xP3RDTBJ64EVgaEL1Aeq+W8AOeohjh9WayJvq6eqTqklk7WDuIxlGp30oBo9RJv6l/HaCunHxkDRX3X83wCIJbgeYr02FwGc/PtnQOWnJ/Z90gwQ3rrnn0DrkodHVsAtt9ZFKBzV+0LWdt1CHGNHHUz5fzUwHVoe7V3Kvw7eGSYOit44v4i4bY5L5TpF+oZCjuK69Pv3x1ynpP7B1jRX0c0iL7iWWufQzRabA4FNdK//WB4hWd+he+12D6T4eIzuVeenMMR9dLMXX5nwQWbubUl0t+L3Xnnk6arrOPgfG95WRPTKWcwAAAAASUVORK5CYII=\"","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n  const {isAuthenticated, loading} = useSelector((state) => state.auth);\r\n  if (loading) {\r\n    return \"...Loading\"\r\n  }\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        isAuthenticated && !loading ? (\r\n          <Component {...props} />\r\n        ) : ( \r\n          <Redirect to=\"/auth\" />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst Alert = () => {\r\n  const alerts = useSelector((state) => state.alert);\r\n  return (\r\n    <>\r\n      {alerts !== null &&\r\n        alerts.length !== 0 &&\r\n        alerts.map((alert) => (\r\n          <div className={`alert alert-${alert.type} text-center mt-1 w-50 mx-auto `} key={Math.random()}  role=\"alert\">\r\n            {alert.message}\r\n          </div>\r\n        ))}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Alert;\r\n","import axios from \"axios\";\r\nimport { COMMENT, CREATE_POST, DELETE_COMMENT, DELETE_POST, GET_POSTS, LIKE_COMMENT, LIKE_POST, POST_ERROR } from \"../type\";\r\nimport { setAlert } from \"./alerts\";\r\nimport {getProfile, getProfileById} from \"./profile\";\r\n\r\nconst url = \"https://instagram-a5.herokuapp.com/api/posts\";\r\n\r\nexport const getPosts = () => async (dispatch) => {\r\n  try {\r\n    const res = await axios.get(`${url}`);\r\n    dispatch({type: GET_POSTS, payload: res.data});\r\n    dispatch(getProfile())\r\n  } catch (error) {\r\n    dispatch({ type: POST_ERROR, payload : {msg : error.response.statusText, status : error.response.status} });\r\n    console.log(error)\r\n  }\r\n};\r\n\r\nexport const createPost = (formData) => async (dispatch) => {\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  };\r\n  try {\r\n    const res = await axios.post(`${url}`, formData, config);\r\n    dispatch({type: CREATE_POST, payload: res.data});\r\n    \r\n  } catch (error) {\r\n    dispatch(setAlert(\"File too large\", \"danger\"))\r\n    const errors = error.response.data.errors;\r\n    if (errors) {\r\n      errors.forEach((err) => dispatch(setAlert(err.msg, \"danger\")));\r\n    }\r\n    dispatch({ type: POST_ERROR, payload : {msg : error.response.statusText, status : error.response.status} });\r\n  }\r\n};\r\n\r\nexport const likePost = (id, userId) => async (dispatch) => {\r\n  try {\r\n    const res = await axios.patch(`${url}/${id}/like`);\r\n    dispatch({type: LIKE_POST, payload: {id, likes: res.data}});\r\n    if (userId) {\r\n      dispatch(getProfileById(userId))\r\n    }\r\n  } catch (error) {\r\n    dispatch({ type: POST_ERROR, payload : {msg : error.response.statusText, status : error.response.status} });\r\n  }\r\n};\r\n\r\nexport const deletePost = (id) => async (dispatch) => {\r\n  try {\r\n    await axios.delete(`${url}/${id}`)\r\n    dispatch({type : DELETE_POST, payload : id})\r\n    dispatch(setAlert(\"Deleted post\", \"success\"))\r\n  } catch (error) {\r\n    dispatch({ type: POST_ERROR, payload : {msg : error.response.statusText, status : error.response.status} });\r\n  }\r\n}\r\n\r\nexport const comment = (id, text, userId) => async (dispatch) => {\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  };\r\n  try {\r\n    const res = await axios.post(`${url}/comment/${id}`, text, config);\r\n    console.log(res)\r\n    dispatch({type: COMMENT, payload: res.data});\r\n    if (userId) {\r\n      dispatch(getProfileById(userId))\r\n    } else {\r\n      dispatch(getPosts())\r\n    }\r\n  } catch (error) {\r\n    const errors = error.response.data.errors;\r\n    if (errors) {\r\n      errors.forEach((err) => dispatch(setAlert(err.msg, \"danger\")));\r\n    }\r\n    dispatch({ type: POST_ERROR, payload : {msg : error.response.statusText, status : error.response.status} });\r\n  }\r\n};\r\n\r\nexport const likeComment = (id, commentId, userId) => async (dispatch) => {\r\n  try {\r\n    const res = await axios.patch(`${url}/${id}/comment/${commentId}/like`);\r\n    dispatch({type: LIKE_COMMENT, payload: {commentId, likes: res.data, id}});\r\n    if (userId) {\r\n      dispatch(getProfileById(userId))\r\n    } else {\r\n      dispatch(getPosts())\r\n    }\r\n  } catch (error) {\r\n    console.log(error)\r\n  }\r\n};\r\n\r\nexport const deleteComment = (id, commentId, userId) => async (dispatch) => {\r\n  try {\r\n    await axios.delete(`${url}/${id}/comment/${commentId}/`)\r\n    dispatch({type: DELETE_COMMENT, payload: {id, commentId}})\r\n    if (userId) {\r\n      dispatch(getProfileById(userId))\r\n    } else {\r\n      dispatch(getPosts())\r\n    }\r\n  } catch (error) {\r\n    console.log(error)\r\n  }\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport moment from \"moment\";\r\n\r\nimport { comment, deletePost, likeComment, likePost, deleteComment } from \"../../../redux/actions/post\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Post = ({post}) => {\r\n  const [showText, setShowText] = useState(false);\r\n  const [text, setText] = useState(\"\");\r\n  const user = useSelector((state) => state.auth.user);\r\n  const dispatch = useDispatch();\r\n  const handleLike = () => {\r\n    dispatch(likePost(post._id));\r\n  };\r\n  const handleDelete = () => {\r\n    dispatch(deletePost(post._id));\r\n  };\r\n  const handleChange = (e) => {\r\n    setText(e.target.value);\r\n  };\r\n  const handleComment = () => {\r\n    dispatch(comment(post._id, {text}))\r\n    setText(\"\");\r\n  };\r\n  return (\r\n    <>\r\n      <div className=\"card w-75 offset-2  my-2  \">\r\n        <div\r\n          className=\"modal fade \"\r\n          id={`header${post._id}`}\r\n          data-bs-backdrop=\"static\"\r\n          data-bs-keyboard=\"false\"\r\n          tabindex=\"-1\"\r\n          aria-labelledby=\"staticBackdropLabel\"\r\n          aria-hidden=\"true\"\r\n        >\r\n          <div\r\n            className=\"modal-dialog modal-dialog-centered\"\r\n            style={{ cursor: \"pointer\" }}\r\n          >\r\n            <div className=\"modal-content text-center w-75\">\r\n              {post.user._id === user._id ? (\r\n                <>\r\n                  <div\r\n                    className=\"my-2 text-danger\"\r\n                    data-bs-dismiss=\"modal\"\r\n                    onClick={handleDelete}\r\n                  >\r\n                    Delete post\r\n                  </div>\r\n                  <hr />\r\n                  <div className=\"my-2 \">Edit post</div>\r\n                  <hr />\r\n                </>\r\n              ) : (\r\n                <>\r\n                   <Link to={`/profile/${post.user._id}`} > <div className=\"my-2\"  data-bs-dismiss=\"modal\">Open Profile</div></Link>\r\n                  <hr />\r\n                </>\r\n              )}\r\n              <div className=\"my-2\" data-bs-dismiss=\"modal\" data-bs-toggle=\"modal\"\r\n                data-bs-target={`#body${post._id}`}>Open post</div>\r\n              <hr />\r\n              <div className=\"my-2\" data-bs-dismiss=\"modal\">\r\n                Close\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n       \r\n        <div\r\n          className=\"modal fade\"\r\n          id={`body${post._id}`}\r\n          tabindex=\"-1\"\r\n          aria-labelledby=\"exampleModalLabel\"\r\n          aria-hidden=\"true\"\r\n        >\r\n          <div className=\"modal-dialog modal-dialog-centered modal-lg\">\r\n            <div className=\"modal-content\">\r\n              <div\r\n                className=\"modal-body\"\r\n                style={{ padding: \"0%\", margin: \"0%\", borderRadius: \"0%\" }}\r\n              >\r\n                <div className=\"card\">\r\n                  <div className=\"row no-gutters\">\r\n                    <div className=\"col-md-8\"  >\r\n                      <img\r\n                        src={post.image}\r\n                        className=\"card-img img-fluid\"\r\n                        alt=\"...\"\r\n                        style={{ height: \"35rem\", overflow: \"hidden\", display: \"block\", objectFit : \"cover\" , borderRadius: \"0%\"  }}\r\n                      />\r\n                    </div>\r\n                    <div className=\"col-md-4 d-flex flex-column justify-content-between\"  >\r\n                      <div className=\"\">\r\n                        <section className = \"py-3 border-bottom d-flex justify-content-between\">\r\n                          <section>\r\n                          <img style = {{borderRadius : \"50%\", objectFit : \"cover\"}} src={post.user.profileImage} width = \"30rem\" height = \"30rem\" alt=\"\" />\r\n                          <h6 className = \"mx-3 d-inline\">{post.user.username}</h6>\r\n                          </section>\r\n                          <p className = \"fs-5 px-2\"><i className=\"fas fa-ellipsis-h\"></i></p>\r\n                        </section>\r\n                        <div className=\"commentsection\">\r\n                          {post.text && <div className=\"py-2\">\r\n                            <img style={{borderRadius: \"50%\", objectFit : \"cover\"}} src={post.user.profileImage} height = \"30rem\" width=\"30rem\" alt=\"\" />\r\n                            <strong className=\"mx-3\">{post.user.username}</strong> {post.text}\r\n                          </div>}\r\n                          {post.comments.map(comment =>\r\n                            <div className=\"py-3 d-flex justify-content-between\" key={comment._id}>\r\n                              <section>\r\n                              <img src={comment.profileImage} style = {{borderRadius : \"50%\" , objectFit : \"cover\"}} height = \"30rem\"  width = \"30rem\" alt=\"\" />\r\n                                  <b className=\"mx-2\">{comment.username}</b>\r\n                                {comment.text}\r\n                                <section className = \"text-muted \">\r\n                                <small ><small>{moment(comment.date).fromNow(true)}</small></small>\r\n                                <small className = \"mx-2\"><small>{comment.likes.length} Likes</small></small>\r\n                                {user.username === comment.username && <small style = {{ cursor: \"pointer\"}}><small  onClick = {() => dispatch(deleteComment( post._id ,comment._id))}>Delete</small></small> }\r\n                                </section>\r\n                              </section>\r\n                              <section className=\"px-2\" onClick={() => dispatch(likeComment(post._id, comment._id))} >{!comment.likes.find(like => like._id === user._id) ? <i className=\"far fa-heart\"  style={{ cursor: \"pointer\" }} ></i>: <i className=\"fas fa-heart\"style = {{color : \"#fb3958\",  cursor: \"pointer\"}}></i>}</section>\r\n                            </div>)}\r\n                      </div>\r\n                      </div>\r\n                      <div className=\"border-top pt-1\">\r\n                      <section>\r\n                      <div className=\"d-flex justify-content-between\">\r\n                        <p className=\"card-text fs-5 pb-1\">\r\n                          {!post.likes.find(like => like.user === user._id) ? <i\r\n                            className=\"far fa-heart\"\r\n                            onClick={handleLike}\r\n                            style={{ cursor: \"pointer\" }}\r\n                          ></i> : <i\r\n                          className=\"fas fa-heart\"\r\n                          onClick={handleLike}\r\n                          style={{ cursor: \"pointer\", color: \"#fb3958\" }}\r\n                        ></i>}\r\n                          <i className=\"far fa-comment mx-3\" style={{ cursor: \"pointer\" }}></i>\r\n                          <i className=\"far fa-paper-plane\" style={{ cursor: \"pointer\" }}></i>\r\n                        </p>\r\n                        <p className=\"card-text fs-5 px-2\">\r\n                          <i className=\"far fa-bookmark\" style={{ cursor: \"pointer\" }}></i>\r\n                        </p>\r\n                      </div>\r\n                      <small className=\"py-1\">\r\n                      <b>{post.likes.length}</b> likes\r\n                          </small>\r\n                          <small>\r\n                            <small className=\"text-muted d-block mb-2\">\r\n                              {moment(post.date).fromNow()}\r\n                            </small>\r\n                          </small>\r\n                      </section>\r\n                      <section className=\"border-top py-1\">\r\n                        <ul className=\"list-group list-group-flush d-flex flex-row align-items-center justify-content-between\">\r\n                          <input\r\n                            className=\"list-group-item w-100\"\r\n                            placeholder=\"Add comment\"\r\n                            name=\"comment\"\r\n                            value={text}\r\n                            style={{ borderBottom: \"none\" }}\r\n                            onChange={handleChange}\r\n                          ></input>\r\n                          <p\r\n                            className=\"px-2 text-primary\"\r\n                            style={{ cursor: \"pointer\" }}\r\n                            onClick={handleComment}\r\n                          >\r\n                            share\r\n                          </p>\r\n                        </ul>\r\n                      </section>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <section className=\"card-title mt-2 d-flex align-items-center justify-content-between \">\r\n          <div className=\" d-flex align-items-center\">\r\n            <Link\r\n              to={\r\n                post.user._id === user._id\r\n                  ? \"/profile/me\"\r\n                  : `/profile/${post.user._id}`\r\n              }\r\n              className=\"mx-1\"\r\n            >\r\n              <img\r\n                src={post.user.profileImage}\r\n                alt=\"\"\r\n                width=\"30rem\"\r\n                height=\"30rem\"\r\n                className=\"postImage\"\r\n                style={{ borderRadius: \"50%\", margin: \"0px 8px\", objectFit : \"cover\" }}\r\n              />\r\n            </Link>\r\n            <div className=\"d-flex flex-column\">\r\n              <Link\r\n                to={\r\n                  `/profile/${post.user._id}`\r\n                }\r\n                style={{ textDecoration: \"none\", color: \"black\" }}\r\n              >\r\n                <h6>{post.user.username}</h6>\r\n              </Link>\r\n              <small className=\"text-muted\">{post?.location}</small>\r\n            </div>\r\n          </div>\r\n          <i\r\n            className=\"fas fa-ellipsis-h mx-3\"\r\n            style={{ cursor: \"pointer\" }}\r\n            data-bs-toggle=\"modal\"\r\n            data-bs-target={`#header${post._id}`}\r\n          ></i>\r\n        </section>\r\n        <img\r\n          className=\"card-img-top postImage\"\r\n          alt = \"post\"\r\n          src={post.image}\r\n          style={{ maxHeight: \"30rem\", overflow: \"hidden\", display: \"block\", objectFit : \"contain\" }}\r\n        />\r\n        <div className=\"card-body\">\r\n          <div className=\"d-flex justify-content-between\">\r\n            <p className=\"card-text fs-5\">\r\n                {!post.likes.find(like => like.user === user._id) ? <i\r\n                  className=\"far fa-heart\"\r\n                  onClick={handleLike}\r\n                  style={{ cursor: \"pointer\" }}\r\n                ></i> : <i\r\n                className=\"fas fa-heart like\"\r\n                onClick={handleLike}\r\n                style={{ cursor: \"pointer\", color: \"#fb3958\" }}\r\n              ></i>}          \r\n              <i className=\"far fa-comment mx-3\" style={{ cursor: \"pointer\" }}></i>\r\n              <i className=\"far fa-paper-plane\" style={{ cursor: \"pointer\" }}></i>\r\n            </p>\r\n            <p className=\"card-text fs-5\">\r\n              <i className=\"far fa-bookmark\" style={{ cursor: \"pointer\" }}></i>\r\n            </p>\r\n          </div>\r\n          <p className=\"mt-1\">\r\n            <b>{post.likes.length}</b> likes\r\n          </p>\r\n          <div>\r\n            <b>{post.user.username}</b>{\" \"}\r\n            <small>\r\n              {showText\r\n                ? post.text\r\n                : post.text.length > 50\r\n                ? post.text.slice(0, 50)\r\n                : post.text}\r\n              {!showText && post.text.length > 50 && (\r\n                <small\r\n                  className=\"text-muted d-block\"\r\n                  style={{ cursor: \"pointer\" }}\r\n                  onClick={() => setShowText(true)}\r\n                >\r\n                  ...Read more\r\n                </small>\r\n              )}\r\n            </small>\r\n          </div>\r\n          <small className=\"text-muted\">\r\n              <p\r\n                style={{ cursor: \"pointer\" }}\r\n                data-bs-toggle=\"modal\"\r\n                data-bs-target={`#body${post._id}`}\r\n              >\r\n                View Comments\r\n              </p>\r\n            \r\n          </small>\r\n          <small>\r\n            <small className=\"text-muted d-block\">\r\n              {moment(post.date).fromNow()}\r\n            </small>\r\n          </small>\r\n        </div>\r\n        <section className=\"border-top\">\r\n          <ul className=\"list-group list-group-flush d-flex flex-row align-items-center justify-content-between\">\r\n            <input\r\n              className=\"list-group-item w-100\"\r\n              placeholder=\"Add comment\"\r\n              name=\"comment\"\r\n              value={text}\r\n              style={{ borderBottom: \"none\" }}\r\n              onChange={handleChange}\r\n            ></input>\r\n            <p\r\n              className=\"px-2 text-primary\"\r\n              style={{ cursor: \"pointer\" }}\r\n              onClick={handleComment}\r\n            >\r\n              share\r\n            </p>\r\n          </ul>\r\n        </section>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { follow, getAllProfiles } from \"../../redux/actions/profile\";\r\nimport { Link } from \"react-router-dom\";\r\nconst Profiles = () => {\r\n  let { profiles, loading, profile } = useSelector((state) => state.profile);\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    if (!profiles) {\r\n      dispatch(getAllProfiles());\r\n    }\r\n  }, [dispatch]);\r\n   const { user } = useSelector((state) => state.auth);\r\n  if (loading) return <div className = \"pt-5\"><div className=\"loader py-5\"></div></div>;\r\n \r\n  profiles = profiles.filter((p) => p?._id !== profile?._id)\r\n  return (\r\n    <>\r\n      <div className=\"row\">\r\n        <div className=\"col-md-10 offset-md-1\">\r\n          <h4 className=\"mb-2\">Suggestions for you</h4>\r\n          <div className=\"card\">\r\n            {!loading &&\r\n              profiles.map((profile) => (\r\n                <div\r\n                  key={profile._id}\r\n                  className=\"d-flex p-3 justify-content-between align-items-center\"\r\n                >\r\n                  <Link\r\n                    to={`/profile/${profile.user._id}` }\r\n                    className=\"mx-1\"\r\n                  ><img\r\n                  style={{ borderRadius: \"50%\", objectFit : \"cover\" }}\r\n                  width=\"40rem\"\r\n                  height=\"40rem\"\r\n                  src={profile.user.profileImage}\r\n                  alt=\"\"\r\n                /></Link>\r\n                  <div className=\"flex-grow-1 mx-3\">\r\n                  <Link\r\n                    to={`/profile/${profile.user._id}` }\r\n                      className=\"mx-1\"\r\n                      \r\n                  >\r\n                    <h6 className=\" d-inline\">{profile.user.username}</h6> \r\n                    </Link>\r\n                    <small className=\"text-muted d-block\">\r\n                      {profile.user.fullname}\r\n                    </small>\r\n                  </div>\r\n                  {profile.followers.find(\r\n                    (follower) => follower === user._id\r\n                  ) ? (\r\n                    <>\r\n                      <div\r\n                        className=\"modal fade\"\r\n                        id={`modal${profile.user._id}`}\r\n                        tabindex=\"-1\"\r\n                        aria-labelledby=\"exampleModalLabel\"\r\n                        aria-hidden=\"true\"\r\n                      >\r\n                        <div className=\"modal-dialog modal-sm modal-dialog-centered\">\r\n                          <div className=\"modal-content \">\r\n                            <div className=\" d-flex flex-column mt-3 align-items-center justify-content-center\">\r\n                              <img\r\n                                style={{ borderRadius: \"50%\", objectFit : \"cover\" }}\r\n                                width=\"80rem\"\r\n                                height=\"80rem\"\r\n                                src={profile.user.profileImage}\r\n                                alt=\"\"\r\n                              />\r\n                              <p className=\"my-3\">\r\n                                Unfollow @{profile.user.username} ?\r\n                              </p>\r\n                            </div>\r\n                            <hr />\r\n                            <div className=\"text-center text-danger my-2\">\r\n                              <p style = {{cursor : \"pointer\"}}  data-bs-dismiss=\"modal\"  onClick={() => {\r\n                                dispatch(follow(profile._id));\r\n                                \r\n                                }} >Unfollow</p>\r\n                            </div>{\" \"}\r\n                            <hr />\r\n                            <div className=\"text-center my-2\">\r\n                              <p style = {{cursor : \"pointer\"}} data-bs-dismiss=\"modal\">Close</p>\r\n                            </div>{\" \"}\r\n                            <hr />\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <button\r\n                        className=\"btn btn-outline-dark\"\r\n                        data-bs-toggle=\"modal\"\r\n                        data-bs-target={`#modal${profile.user._id}`}\r\n                       \r\n                      >\r\n                        following\r\n                      </button>\r\n                    </>\r\n                  ) : (\r\n                    <button\r\n                      className=\"btn btn-primary\"\r\n                      onClick={() => {\r\n                        dispatch(follow(profile._id));\r\n                      }}\r\n                    >\r\n                      Follow\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Profiles;\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getPosts } from \"../../redux/actions/post\";\r\nimport {getProfile} from \"../../redux/actions/profile\";\r\nimport Post from \"./Post/Post\";\r\n\r\nimport Profiles from \"./Profiles\"\r\n\r\nconst Posts = () => {\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(getPosts());\r\n  }, [dispatch]);\r\n  let { posts, loading } = useSelector((state) => state.post);\r\n  const { profile, profileLoading } = useSelector((state) => state.profile);\r\n\r\n  if (loading ) return <div className = \"pt-5\"><div className=\"loader py-5\"></div></div>;\r\n  if (profileLoading ) return <div className = \"pt-5\"><div className=\"loader py-5\"></div></div>;\r\n\r\n  let filteredPosts = [];\r\n\r\n  if (profile?.following && profile?.following.length > 0) {\r\n    profile.following.forEach((following) =>\r\n      posts.map((post) =>\r\n        post.user._id === following\r\n          ? filteredPosts.push(post)\r\n          : console.log(\"nope\")\r\n      )\r\n    );\r\n  }\r\n\r\n\r\n  if (filteredPosts && filteredPosts.length > 0 && !loading && !profileLoading) {\r\n    return filteredPosts.map((post) => <Post key={post._id} post={post} />);\r\n  }\r\n  return  <Profiles />;\r\n};\r\n\r\nexport default Posts;\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { follow, getAllProfiles, getProfile } from \"../../redux/actions/profile\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {logout} from \"../../redux/actions/auth\";\r\nconst Right = () => {\r\n  let { profile, profiles, loading } = useSelector((state) => state.profile);\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    if(!profiles){dispatch(getAllProfiles());}\r\n  }, [dispatch]);\r\n  const { user } = useSelector((state) => state.auth);\r\n  if (loading) return <div className = \"pt-5\"><div className=\"loader py-5\"></div></div>;\r\n  profiles = profiles.filter((p) => p?._id !== profile?._id);\r\n\r\n  if (profile?.following && profile?.following.length > 0) {\r\n    profile.following.forEach((following) =>\r\n      profiles.map((profile) =>\r\n      profile.user._id === following\r\n          ? profiles.splice(profiles.indexOf(following), 1)\r\n          : console.log(\"nope\")\r\n      )\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>{loading && <div className = \"pt-5\"><div className=\"loader py-5\"></div></div>}\r\n      {!loading && <>\r\n      <section className=\"d-flex align-items-center justify-content-between\" >\r\n        <img\r\n          style={{ borderRadius: \"50%\", objectFit : \"cover\" }}\r\n          width=\"50rem\"\r\n          height=\"50rem\"\r\n          src={profile?.user.profileImage}\r\n          alt=\"\"\r\n        />\r\n        <h6 className=\" d-inline mx-2 flex-grow-1\"><Link to = {`/profile/${profile.user._id}`}>{profile?.user.username}</Link></h6>\r\n        <p style = {{cursor : \"pointer\"}} onClick = {() => dispatch(logout())}> Logout</p>\r\n      </section>\r\n      <section className=\"mt-4\">\r\n        <small className=\"text-muted mb-2\">Suggestions for you</small>\r\n        <section>\r\n          {!loading &&\r\n            profiles.map((profile) => (\r\n              <div\r\n                key={profile._id}\r\n                className=\"d-flex py-2 justify-content-between align-items-center\"\r\n              >\r\n                <img\r\n                  style={{ borderRadius: \"50%\", objectFit : \"cover\" }}\r\n                  width=\"40rem\"\r\n                  height=\"40rem\"\r\n                  src={profile?.user.profileImage}\r\n                  alt=\"\"\r\n                />\r\n                <div className=\"flex-grow-1 mx-2\">\r\n                  <h6 className=\" d-inline \">{profile.user.username}</h6>\r\n                  <small className=\"text-muted d-block\">\r\n                    {profile.user.fullname}\r\n                  </small>\r\n                </div>\r\n                {profile.followers.find((follower) => follower === user._id) ? (\r\n                  <>\r\n                    <p\r\n                      style={{ cursor: \"pointer\" }}\r\n                      data-bs-dismiss=\"modal\"\r\n                      onClick={() => {\r\n                        dispatch(follow(profile._id));\r\n                      }}\r\n                    >\r\n                      Unfollow\r\n                    </p>\r\n                  </>\r\n                ) : (\r\n                  <p\r\n                    className=\"text-primary\"\r\n                    style={{ cursor: \"pointer\" }}\r\n                    onClick={() => {\r\n                      dispatch(follow(profile._id));\r\n                    }}\r\n                  >\r\n                    Follow\r\n                  </p>\r\n                )}\r\n              </div>\r\n            ))}\r\n        </section>\r\n      </section>\r\n      </>\r\n      }\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Right;\r\n","import React, {useEffect} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getAllProfiles, getProfile} from \"../../redux/actions/profile\";\r\nimport Posts from \"./Posts\";\r\nimport Profiles from \"./Profiles\";\r\nimport Right from \"./Right\";\r\n\r\nconst Home = () => {\r\n  const {profile, loading} = useSelector(state => state.profile)\r\n  const dispatch = useDispatch()\r\n  useEffect(() => {\r\n    dispatch(getProfile())\r\n  }, [dispatch])\r\n  if (loading) return <div className=\"pt-5\"><div className=\"loader py-5\"></div></div>;\r\n  return (\r\n    <>\r\n      {profile?.following && profile?.following.length > 0 ? <div className=\"w-75 offset-md-1\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-8 mt-4 \">\r\n            <Posts />\r\n          </div>\r\n          <div className=\"col-md-4 mt-4 \" style = {{zIndex : \"0\"}}>\r\n            <div className=\"sticky-top\" style={{ top: \"2rem\" }}>\r\n              <Right profile={profile}/>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div> :\r\n        <div className=\"row\">\r\n        <div className=\"col-md-8 offset-md-2 mt-4 \">\r\n          <Profiles />\r\n        </div>\r\n    </div>\r\n      }\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { follow } from \"../../redux/actions/profile\";\r\n\r\nconst ProfileDetail = ({ profile }) => {\r\n  const user = useSelector((state) => state.auth.user);\r\n  const isFollowing = profile.followers.find(\r\n    (follower) => follower === user._id\r\n  );\r\n  const dispatch = useDispatch();\r\n  const handleFollow = () => {\r\n    dispatch(follow(profile._id));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"row w-75\">\r\n        \r\n        <div className=\"col-md-5 col-sm-4 text-center mt-3\">\r\n          <img\r\n            src={profile.user.profileImage}\r\n            style={{ width: \"10rem\",  height: \"10rem\", borderRadius: \"50%\", objectFit : \"cover\" }}\r\n            alt=\"\"\r\n          />\r\n        </div>\r\n        <div className=\"col-md-7 col-sm-8 mt-3 d-flex flex-column\">\r\n          <div className=\"d-flex align-items-center\">\r\n            <h4 className=\"d-inline mr-md-3\">{profile.user.username}</h4>\r\n            {profile.user._id === user._id ? (\r\n              <Link className=\"btn btn-outline-dark mx-md-3\" to=\"/profile/edit\">\r\n                Edit profile\r\n              </Link>\r\n            ) : !isFollowing ? (\r\n              <button\r\n                className=\"btn btn-primary px-2 mx-2\"\r\n                onClick={handleFollow}\r\n              >\r\n                Follow\r\n              </button>\r\n            ) : (\r\n                  <>\r\n                  <button\r\n                className=\"btn btn-outline-dark btn-sm px-2 mx-2\"\r\n              >\r\n                message\r\n              </button>\r\n                  <button\r\n                className=\"btn btn-outline-dark btn-sm px-2\"\r\n                onClick={handleFollow}\r\n              >\r\n                <i className=\"fas fa-user-check\"></i>\r\n              </button>\r\n                  </>\r\n            )}\r\n            <p className=\"d-inline fs-5 mx-3\">\r\n              <i className=\"fas fa-cog\"></i>\r\n            </p>\r\n          </div>\r\n          <div className=\"my-3\">\r\n            <p className=\"d-inline mr-md-3 mr-2 \">\r\n              <strong>{profile.posts.length}</strong> posts\r\n            </p>\r\n            <p className=\"d-inline mx-md-3 mx-2\">\r\n              <strong>{profile.followers.length}</strong> followers\r\n            </p>\r\n            <p className=\"d-inline\">\r\n              <strong>{profile.following.length}</strong> following\r\n            </p>\r\n          </div>\r\n          <div>\r\n            <p>\r\n              <strong>{profile.user.fullname}</strong>\r\n              <p>{profile.bio}</p>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProfileDetail;\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport {\r\n  comment,\r\n  likeComment,\r\n  likePost,\r\n  deleteComment,\r\n} from \"../../redux/actions/post\";\r\n\r\nconst PostElement = ({ post, profile, explore, myProfile }) => {\r\n  const [text, setText] = useState(\"\");\r\n  const user = useSelector((state) => state.auth.user);\r\n  const dispatch = useDispatch();\r\n  const handleLike = () => {\r\n    dispatch(likePost(post._id, user._id));\r\n  };\r\n  const handleChange = (e) => {\r\n    setText(e.target.value);\r\n  };\r\n  const handleComment = () => {\r\n    if (explore) {\r\n      dispatch(comment(post._id, { text }));\r\n    } else {\r\n      dispatch(comment(post._id, { text }, profile.user._id));\r\n    }\r\n    setText(\"\");\r\n  };\r\n  if(!post) return \"...loading\"\r\n  return (\r\n    <>\r\n      <div\r\n        className=\"modal fade\"\r\n        id={`body${post._id}`}\r\n        tabindex=\"-1\"\r\n        aria-labelledby=\"exampleModalLabel\"\r\n        aria-hidden=\"true\"\r\n      >\r\n        <div className=\"modal-dialog modal-dialog-centered modal-lg\">\r\n          <div className=\"modal-content\">\r\n            <div\r\n              className=\"modal-body\"\r\n              style={{ padding: \"0%\", margin: \"0%\", borderRadius: \"0%\" }}\r\n            >\r\n              <div className=\"card\">\r\n                <div className=\"row no-gutters\">\r\n                  <div className=\"col-md-8\">\r\n                    <img\r\n                      src={post.image}\r\n                      className=\"card-img\"\r\n                      alt=\"...\"\r\n                      style={{\r\n                        height: \"35rem\",\r\n                        overflow: \"hidden\",\r\n                        display: \"block\",\r\n                        objectFit: \"cover\",\r\n                        borderRadius: \"0%\",\r\n                      }}\r\n                    />\r\n                  </div>\r\n                  <div className=\"col-md-4 d-flex flex-column justify-content-between\">\r\n                    <div className=\"\">\r\n                      <section className=\"py-3 border-bottom d-flex justify-content-between align-items-center\">\r\n                        <section>\r\n                          {myProfile ? (\r\n                            <>\r\n                              <img\r\n                                data-bs-dismiss=\"modal\"\r\n                                style={{\r\n                                  borderRadius: \"50%\",\r\n                                  objectFit: \"cover\",\r\n                                }}\r\n                                src={\r\n                                  explore\r\n                                    ? post.user.profileImage\r\n                                    : profile.user.profileImage\r\n                                }\r\n                                width=\"30rem\"\r\n                                height=\"30rem\"\r\n                                alt=\"\"\r\n                              />\r\n                              <h6\r\n                                className=\"mx-3 d-inline\"\r\n                                data-bs-dismiss=\"modal\"\r\n                              >\r\n                                {explore\r\n                                  ? post.user.username\r\n                                  : profile.user.username}\r\n                              </h6>\r\n                            </>\r\n                          ) : (\r\n                            <>\r\n                              <Link\r\n                                to={\r\n                                  post.user._id === user._id\r\n                                    ? \"/profile/me\"\r\n                                    : `/profile/${post.user._id}`\r\n                                }\r\n                                className=\"mx-1\"\r\n                              >\r\n                                <img\r\n                                  data-bs-dismiss=\"modal\"\r\n                                  style={{\r\n                                    borderRadius: \"50%\",\r\n                                    objectFit: \"cover\",\r\n                                  }}\r\n                                  src={\r\n                                    explore\r\n                                      ? post.user.profileImage\r\n                                      : profile.user.profileImage\r\n                                  }\r\n                                  width=\"30rem\"\r\n                                  height=\"30rem\"\r\n                                  alt=\"\"\r\n                                />\r\n                              </Link>\r\n                              <Link\r\n                                to={\r\n                                  post.user._id === user._id\r\n                                    ? \"/profile/me\"\r\n                                    : `/profile/${post.user._id}`\r\n                                }\r\n                                style={{\r\n                                  textDecoration: \"none\",\r\n                                  color: \"black\",\r\n                                }}\r\n                              >\r\n                                <h6\r\n                                  className=\"mx-3 d-inline\"\r\n                                  data-bs-dismiss=\"modal\"\r\n                                >\r\n                                  {explore\r\n                                    ? post.user.username\r\n                                    : profile.user.username}\r\n                                </h6>\r\n                              </Link>\r\n                            </>\r\n                          )}\r\n                        </section>\r\n                        <p>actions</p>\r\n                      </section>\r\n                      <div className=\"commentsection\">\r\n                        {post.text && (\r\n                          <div className=\"py-2\">\r\n                            <img\r\n                              style={{\r\n                                borderRadius: \"50%\",\r\n                                objectFit: \"cover\",\r\n                              }}\r\n                              src={post.user.profileImage}\r\n                              width=\"30rem\"\r\n                              height=\"30rem\"\r\n                              alt=\"\"\r\n                            />\r\n                            <h6 className=\"mx-3\">{post.user.username}</h6>{\" \"}\r\n                            {post.text}\r\n                          </div>\r\n                        )}\r\n                        {!post.comments || post.comments.length === 0 && <small className = \"text-muted\">No comments</small>}\r\n                        {post.comments && post.comments.length > 0 && post.comments.map((comment) => (\r\n                          <div\r\n                            className=\"py-3 d-flex justify-content-between align-items-center\"\r\n                            key={comment._id}\r\n                          >\r\n                            <section>\r\n                              <img\r\n                                src={comment.profileImage}\r\n                                style={{\r\n                                  borderRadius: \"50%\",\r\n                                  objectFit: \"cover\",\r\n                                }}\r\n                                width=\"25rem\"\r\n                                height=\"25rem\"\r\n                                alt=\"\"\r\n                              />\r\n                              <h6 className=\"mx-2 d-inline \">\r\n                                {comment.username}\r\n                              </h6>\r\n                              {comment.text}\r\n                              <section className=\"text-muted \">\r\n                                <small>\r\n                                  <small>\r\n                                    {moment(comment.date).fromNow(true)}\r\n                                  </small>\r\n                                </small>\r\n                                <small className=\"mx-2\">\r\n                                  <small>{comment.likes.length} Likes</small>\r\n                                </small>\r\n                                {user.username === comment.username && (\r\n                                  <small style={{ cursor: \"pointer\" }}>\r\n                                    <small\r\n                                      onClick={() =>\r\n                                        dispatch(\r\n                                          deleteComment(\r\n                                            post._id,\r\n                                            comment._id,\r\n                                            profile.user._id\r\n                                          )\r\n                                        )\r\n                                      }\r\n                                    >\r\n                                      Delete\r\n                                    </small>\r\n                                  </small>\r\n                                )}\r\n                              </section>\r\n                            </section>\r\n                            <section\r\n                              className=\"px-2\"\r\n                              onClick={() =>\r\n                                dispatch(\r\n                                  likeComment(\r\n                                    post._id,\r\n                                    comment._id,\r\n                                    profile.user._id\r\n                                  )\r\n                                )\r\n                              }\r\n                            >\r\n                              {!comment.likes.find(\r\n                                (like) => like._id === user._id\r\n                              ) ? (\r\n                                <i\r\n                                  className=\"far fa-heart\"\r\n                                  style={{ cursor: \"pointer\" }}\r\n                                ></i>\r\n                              ) : (\r\n                                <i\r\n                                  className=\"fas fa-heart\"\r\n                                  style={{\r\n                                    color: \"#fb3958\",\r\n                                    cursor: \"pointer\",\r\n                                  }}\r\n                                ></i>\r\n                              )}\r\n                            </section>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"border-top pt-1\">\r\n                      <section>\r\n                        <div className=\"d-flex justify-content-between\">\r\n                          <p className=\"card-text fs-5 pb-1\">\r\n                            {post.likes && post.likes.length > 0 && !post.likes.find(\r\n                              (like) => like.user === user._id\r\n                            ) ? (\r\n                              <i\r\n                                className=\"far fa-heart\"\r\n                                onClick={handleLike}\r\n                                style={{ cursor: \"pointer\" }}\r\n                              ></i>\r\n                            ) : (\r\n                              <i\r\n                                className=\"fas fa-heart\"\r\n                                onClick={handleLike}\r\n                                style={{ cursor: \"pointer\", color: \"#fb3958\" }}\r\n                              ></i>\r\n                            )}\r\n                            <i\r\n                              className=\"far fa-comment mx-3\"\r\n                              style={{ cursor: \"pointer\" }}\r\n                            ></i>\r\n                            <i\r\n                              className=\"far fa-paper-plane\"\r\n                              style={{ cursor: \"pointer\" }}\r\n                            ></i>\r\n                          </p>\r\n                          <p className=\"card-text fs-5 px-2\">\r\n                            <i\r\n                              className=\"far fa-bookmark\"\r\n                              style={{ cursor: \"pointer\" }}\r\n                            ></i>\r\n                          </p>\r\n                        </div>\r\n                        <small className=\"py-1\">\r\n                          <b>{post.likes && post.likes.length > 0 ? post?.likes?.length : 0}</b> likes\r\n                        </small>\r\n                        <small>\r\n                          <small className=\"text-muted d-block mb-2\">\r\n                            {moment(post.date).fromNow()}\r\n                          </small>\r\n                        </small>\r\n                      </section>\r\n                      <section className=\"border-top py-1\">\r\n                        <ul className=\"list-group list-group-flush d-flex flex-row align-items-center justify-content-between\">\r\n                          <input\r\n                            className=\"list-group-item w-100\"\r\n                            placeholder=\"Add comment\"\r\n                            name=\"comment\"\r\n                            value={text}\r\n                            style={{ borderBottom: \"none\" }}\r\n                            onChange={handleChange}\r\n                          ></input>\r\n                          <p\r\n                            className=\"px-2 text-primary\"\r\n                            style={{ cursor: \"pointer\" }}\r\n                            onClick={handleComment}\r\n                          >\r\n                            share\r\n                          </p>\r\n                        </ul>\r\n                      </section>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div\r\n        className=\"col-4 px-4 my-2  profilepost \"\r\n        data-bs-toggle=\"modal\"\r\n        style={{ cursor: \"pointer\" }}\r\n        data-bs-target={`#body${post._id}`}\r\n      >\r\n        <img className=\"post\" src={post.image} alt=\"\" />\r\n        <div className=\"over \">\r\n          <div className=\"buttons fs-6 text-white \">\r\n            <div className=\" d-inline\">\r\n              <i className=\"fas fa-heart mx-1\"></i>\r\n              {post.likes.length}\r\n            </div>\r\n            <div className=\"px-3 d-inline\">\r\n              <i className=\"fas fa-comment mx-1\"></i>\r\n              {post.comments.length}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PostElement;\r\n","import React from \"react\";\r\nimport PostElement from \"./PostElement\";\r\nimport \"./ProfilePost.css\";\r\n\r\nconst ProfilePost = ({profile}) => {\r\n    const posts = profile?.posts\r\n   \r\n  return (\r\n    <>\r\n      \r\n      <div className=\"row w-75\">\r\n        { !posts && posts.length === 0\r\n          ? \"No posts\"\r\n          : posts.map((post) => (\r\n            <PostElement post={post} key={post._id} profile={profile} myProfile={true}/>\r\n            ))}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProfilePost;\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getProfile } from \"../../redux/actions/profile\";\r\nimport ProfileDetail from \"./ProfileDetail\";\r\nimport ProfilePost from \"./ProfilePost\";\r\n\r\nconst Profile = () => {\r\n  const dispatch = useDispatch()\r\n  const {profile, loading} = useSelector((state) => state.profile);\r\n  useEffect(() => {\r\n    if (!profile) {\r\n      dispatch(getProfile())\r\n    }\r\n  }, [dispatch])\r\n\r\n  return (\r\n    <>\r\n      {loading ? (\r\n        <div className = \"pt-5\"><div className=\"loader py-5\"></div></div>\r\n      ) : (\r\n        <div className=\"w-75 offset-md-2 d-flex flex-column\">\r\n            <ProfileDetail profile={profile}/>\r\n            <hr className=\"w-75\" />\r\n            <ProfilePost  profile={profile} />\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {Redirect} from \"react-router\";\r\nimport { setAlert } from \"../../redux/actions/alerts\";\r\nimport {login, register} from \"../../redux/actions/auth\";\r\nimport { getProfile } from \"../../redux/actions/profile\";\r\n\r\nconst Auth = () => {\r\n  const [isLogin, setisLogin] = useState(true);\r\n  const dispatch = useDispatch();\r\n\r\n  \r\n  const [formData, setFormData] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    username: \"\",\r\n    fullname: \"\",\r\n  });\r\n  const {email, password, username, fullname} = formData;\r\n  \r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (isLogin) {\r\n      if (!email || !password) {\r\n        dispatch(setAlert(\"Please enter correct details\", \"danger\"));\r\n        return;\r\n      }\r\n      dispatch(login(formData))\r\n    }\r\n    else {\r\n      if (!email || !password || !username || !fullname) {\r\n        dispatch(setAlert(\"Please enter correct details\", \"danger\"));\r\n        return;\r\n      }\r\n      dispatch(register(formData))\r\n    }\r\n    \r\n  };\r\n  const isAuthenticated = useSelector(state => state.auth.isAuthenticated)\r\n  if (isAuthenticated) {\r\n    dispatch(getProfile())\r\n\r\n    return <Redirect to = \"/\"/>\r\n  }\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n  return (\r\n    <>\r\n      <div className=\"row\">\r\n        <div className=\"col-md-4 mt-5 offset-md-4\">\r\n          <div className=\"card p-5\">\r\n            <form>\r\n              <div className=\"mb-5\">\r\n                <span title=\"Instagram / Mackey Saturday, Public domain, via Wikimedia Commons\">\r\n                  <img\r\n                    style={{ width: \"19rem\" }}\r\n                    alt=\"Instagram logo\"\r\n                    src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2a/Instagram_logo.svg/256px-Instagram_logo.svg.png\"\r\n                  />\r\n                </span>\r\n              </div>\r\n              <div className=\" my-2\">\r\n                <input\r\n                  type=\"email\"\r\n                  name=\"email\"\r\n                  className=\"form-control bg-light\"\r\n                  placeholder=\"Email\"\r\n                  value={email}\r\n                  onChange={handleChange}\r\n                  required\r\n                />\r\n              </div>\r\n              {!isLogin && (\r\n                <>\r\n                  {\" \"}\r\n                  <div className=\" my-2\">\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"username\"\r\n                      className=\"form-control bg-light\"\r\n                      required\r\n                      placeholder=\"Username\"\r\n                      value={username}\r\n                      onChange={handleChange}\r\n                    />\r\n                  </div>\r\n                  <div className=\" my-2\">\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"fullname\"\r\n                      className=\"form-control bg-light\"\r\n                      placeholder=\"Fullname\"\r\n                      required\r\n                      value={fullname}\r\n                      onChange={handleChange}\r\n                    />\r\n                  </div>\r\n                </>\r\n              )}\r\n\r\n              <div className=\" my-1\">\r\n                <input\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  className=\"form-control bg-light\"\r\n                  placeholder=\"Password\"\r\n                  required\r\n                  value={password}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n            </form>\r\n            <button\r\n              className=\"btn btn-primary mt-3 btn-block\"\r\n              onClick={handleSubmit}\r\n            >\r\n              {isLogin ? \"Sign in\" : \"Register\"}\r\n            </button>\r\n          </div>\r\n          <div className=\"card mt-3 text-center px-5 py-3\">\r\n            {isLogin ? (\r\n              <>\r\n                Don't have an account?\r\n                <span\r\n                  className=\"text-primary\"\r\n                  style={{ cursor: \"pointer\" }}\r\n                  onClick={() => setisLogin(!isLogin)}\r\n                >\r\n                  Sign Up\r\n                </span>{\" \"}\r\n              </>\r\n            ) : (\r\n              <>\r\n                Already have an account?\r\n                <span\r\n                  className=\"text-primary\"\r\n                  style={{ cursor: \"pointer\" }}\r\n                  onClick={() => setisLogin(!isLogin)}\r\n                >\r\n                  Sign In\r\n                </span>{\" \"}\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Auth;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport FileBase from \"react-file-base64\"\r\nimport {Link} from \"react-router-dom\";\r\nimport { editImage, editProfile, getProfile } from \"../../redux/actions/profile\";\r\n\r\nconst EditProfile = () => {\r\n  const dispatch = useDispatch();\r\n  const { profile, loading } = useSelector((state) => state.profile);\r\n  \r\n  useEffect(() => {\r\n    dispatch(getProfile());\r\n    setFormData({\r\n      username: loading || !profile.user ? \"\" : profile.user.username,\r\n      image: loading || !profile.user ? \"\" : profile.user.profileImage,\r\n      fullname: loading || !profile.user ? \"\" :  profile.user.fullname,\r\n      bio: loading || !profile.bio ? \"\" :  profile.bio,\r\n      website: loading || !profile.website ? \"\" :  profile.website,\r\n      email: loading || !profile.email ? \"\" :  profile.email,\r\n      gender: loading || !profile.gender ? \"\" :  profile.gender,\r\n    });\r\n  }, [dispatch, loading]);\r\n  const [formData, setFormData] = useState({\r\n    username: \"\",\r\n    image: \"\",\r\n    fullname:\"\",\r\n    bio: \"\",\r\n    website: \"\",\r\n    email: \"\",\r\n    gender:\"\",\r\n  });\r\n  \r\n  const { username, fullname, bio, website, email, gender, image } = formData;\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    dispatch(editProfile(formData))\r\n    dispatch(editImage({image}))\r\n  }\r\n\r\n  if (loading) {\r\n    return \"...Loading\";\r\n  }\r\n  return (\r\n    <>\r\n      <div className=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n        <div className=\"modal-dialog modal-dialog-centered modal-sm \">\r\n          <div className=\"modal-content text-center\">\r\n              <h5 className = \"py-3\">Change Profile Photo</h5><hr />\r\n            <p className=\"py-2 text-primary\" data-bs-dismiss=\"modal\" >Add new photo\r\n              <div className = \"imageInput\">\r\n                <FileBase\r\n                    type=\"file\"\r\n                    multiple={false}\r\n                    onDone={({base64}) => setFormData({...formData, image : base64})}\r\n                ></FileBase>\r\n              </div>\r\n            </p><hr />\r\n              <p className = \"py-2 text-danger\" data-bs-dismiss=\"modal\">Remove current photo</p><hr />\r\n              <p className = \"py-2\" data-bs-dismiss=\"modal\">Close</p><hr />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-md-3 \">\r\n          <div className=\"card my-5\">\r\n            <div className=\"card-body\">\r\n              <form className=\"px-4 py-5\">\r\n              <div className=\"form-group row mb-4\">\r\n                  <label for=\"inputEmail3\" className=\"col-sm-2 col-form-label\">\r\n                  <img style = {{borderRadius : \"50%\", objectFit : \"cover\"}} src={image} width = \"60rem\" height = \"60rem\" alt=\"\" />\r\n                  </label>\r\n                  <div className=\"col-sm-10\">\r\n                    <p className = \"fs-5\">{username}</p>\r\n                    <h6 id=\"emailHelp\" className=\"form-text text-primary\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\" style = {{cursor : \"pointer\"}}>\r\n                     Change Profile Photo\r\n                    </h6>\r\n                  </div>\r\n                </div>\r\n                <div className=\"form-group row mb-4\">\r\n                  <label for=\"inputEmail3\" className=\"col-sm-2 col-form-label\">\r\n                    <strong>Name</strong>\r\n                  </label>\r\n                  <div className=\"col-sm-10\">\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"fullname\"\r\n                      className=\"form-control\"\r\n                      id=\"inputEmail3\"\r\n                      placeholder=\"Name\"\r\n                      value={fullname}\r\n                      onChange={handleChange}\r\n                    />\r\n                    <small id=\"emailHelp\" className=\"form-text text-muted\">\r\n                      Help people discover your account by using the name you're\r\n                      known by: either your full name, nickname, or business\r\n                      name.\r\n                    </small>\r\n                  </div>\r\n                </div>\r\n                <div className=\"form-group row mb-4\">\r\n                  <label for=\"inputPassword32\" className=\"col-sm-2 col-form-label\">\r\n                    <strong>Username</strong>\r\n                  </label>\r\n                  <div className=\"col-sm-10\">\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"username\"\r\n                      className=\"form-control\"\r\n                      id=\"inputPassword32\"\r\n                      placeholder=\"Username\"\r\n                      value={username}\r\n                      onChange={handleChange}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"form-group row mb-4\">\r\n                  <label for=\"inputPassword31\" className=\"col-sm-2 col-form-label\">\r\n                    <strong>Website</strong>\r\n                  </label>\r\n                  <div className=\"col-sm-10\">\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"website\"\r\n                      className=\"form-control\"\r\n                      id=\"inputPassword31\"\r\n                      placeholder=\"Website\"\r\n                      value={website}\r\n                      onChange={handleChange}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"form-group row mb-4\">\r\n                  <label for=\"inputPassword34\" className=\"col-sm-2 col-form-label\">\r\n                    <strong>Bio</strong>\r\n                  </label>\r\n                  <div className=\"col-sm-10\">\r\n                    <textarea\r\n                      type=\"text\"\r\n                      name=\"bio\"\r\n                      className=\"form-control\"\r\n                      id=\"inputPassword34\"\r\n                      placeholder=\"Write about yourself (Max 100 characters)\"\r\n                      maxLength = \"100\"\r\n                      value={bio}\r\n                      onChange={handleChange}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"form-group row mb-4\">\r\n                  <label\r\n                    for=\"inputPassword34\"\r\n                    className=\"col-sm-2 col-form-label\"\r\n                  ></label>\r\n                  <div className=\"col-sm-10\">\r\n                    <small id=\"emailHelp\" className=\"form-text text-muted\">\r\n                      <div className=\"text-dark\">Personal Information</div>\r\n                      Provide your personal information, even if the account is\r\n                      used for a business, a pet or something else. This won't\r\n                      be a part of your public profile.\r\n                    </small>\r\n                  </div>\r\n                </div>\r\n                <div className=\"form-group row mb-4\">\r\n                  <label for=\"inputPassword3s\" className=\"col-sm-2 col-form-label\">\r\n                    <strong>Email</strong>\r\n                  </label>\r\n                  <div className=\"col-sm-10\">\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"email\"\r\n                      className=\"form-control\"\r\n                      id=\"inputPassword3s\"\r\n                      placeholder=\"Email\"\r\n                      value={email}\r\n                      onChange={handleChange}\r\n                    />\r\n                    <small id=\"emailHelp\" className=\"form-text text-muted\">\r\n                      We'll never share your email with anyone else.\r\n                    </small>\r\n                  </div>\r\n                </div>\r\n                <div className=\"form-group row mb-4\">\r\n                  <label for=\"inputPassword3c\" className=\"col-sm-2 col-form-label\">\r\n                    <strong>Gender</strong>\r\n                  </label>\r\n                  <div className=\"col-sm-10\">\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"gender\"\r\n                      className=\"form-control\"\r\n                      id=\"inputPassword3c\"\r\n                      placeholder=\"Gender\"\r\n                      value={gender}\r\n                      onChange={handleChange}\r\n                    />\r\n                    <small id=\"emailHelp\" className=\"form-text text-muted\">\r\n                      We'll never share your identity with anyone else.\r\n                    </small>\r\n                  </div>\r\n                </div>\r\n                <div className=\"form-group row mb-4\">\r\n                  <label\r\n                    for=\"inputPassword3c\"\r\n                    className=\"col-sm-2 col-form-label\"\r\n                  ></label>\r\n                  <div className=\"col-sm-10\">\r\n                    <button  className=\"btn btn-primary\" onClick = {handleSubmit}>\r\n                      Submit\r\n                    </button>\r\n                    <Link to= \"/profile/me\"  className=\"btn btn-outline-primary mx-3\">\r\n                      Go back\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EditProfile;\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {Redirect} from \"react-router\";\r\nimport {createPost} from \"../../redux/actions/post\";\r\nimport FileBase from \"react-file-base64\"\r\n\r\nconst CreatePost = () => {\r\n  const {user, loading} = useSelector((state) => state.auth);\r\n  const dispatch = useDispatch()\r\n  const [formData, setFormData] = useState({\r\n    image: \"\",\r\n    text: \"\",\r\n    location: \"\",\r\n  });\r\n  const [posted, setPosted] = useState(false)\r\n  const { image, text, location } = formData;\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n  const handleSubmit = () => {  \r\n    dispatch(createPost(formData))\r\n    setPosted(true)\r\n  }\r\n  if (posted && !loading) {\r\n    return <Redirect to =\"/\"/>\r\n  }\r\n  return (\r\n    <div className=\"row \">\r\n      <div className=\"card mt-5 w-75 offset-md-1\">\r\n        <div className=\"text-center mt-3\">Create a post</div>\r\n        <hr />\r\n        <div className=\"row no-gutters \">\r\n          <div className=\"col-md-8\">\r\n            <form className=\"md-form\">\r\n              <div className=\"file-field\">\r\n                <div className=\"z-depth-1-half mb-4\">\r\n                  {image ? (\r\n                    <img src={image} className=\"img-fluid virtual\" alt=\"example \" />\r\n                  ) : (\r\n                    \r\n                    <img\r\n                      src=\"https://mdbootstrap.com/img/Photos/Others/placeholder.jpg\"\r\n                      className=\"img-fluid virtual\"\r\n                      alt=\"example placeholder\"\r\n                    />\r\n                  )}\r\n                </div>\r\n                <div className=\"d-flex justify-content-center\">\r\n                  <div className=\"btn btn-mdb-color btn-rounded float-left\">\r\n                    <FileBase\r\n                      type=\"file\"\r\n                      multiple={false}\r\n                      onDone={({base64}) => setFormData({...formData, image : base64})}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n          <div className=\"col-md-4 \">\r\n            {loading ? (\r\n              \"...loading\"\r\n            ) : (\r\n              <h5 className=\"card-title\">\r\n                <img\r\n                  src={user.profileImage}\r\n                  alt=\"\"\r\n                  width=\"25rem\"\r\n                  style={{ borderRadius: \"50%\" }}\r\n                />{\" \"}\r\n                {user.username}\r\n              </h5>\r\n            )}\r\n            <ul className=\"list-group list-group-flush\">\r\n              <textarea\r\n                className=\"list-group-item\"\r\n                rows=\"8\"\r\n                name=\"text\"\r\n                placeholder=\"Write a caption\"\r\n                onChange={handleChange}\r\n                value={text}\r\n              ></textarea>\r\n              <input\r\n                className=\"list-group-item \"\r\n                placeholder=\"Add location\"\r\n                onChange={handleChange}\r\n                name=\"location\"\r\n                value={location}\r\n              ></input>\r\n              <button className=\"btn btn-primary mt-3\" onClick = {handleSubmit}>Add post</button>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"col-md-8\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreatePost;\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { clearProfile, getProfileById } from \"../../redux/actions/profile\";\r\nimport ProfileDetail from \"./ProfileDetail\";\r\nimport ProfilePost from \"./ProfilePost\";\r\n\r\nconst ProfileById = ({match}) => {\r\n  const dispatch = useDispatch()\r\n\r\n  const {profile, loading} = useSelector((state) => state.profile);\r\n  useEffect(() => {\r\n    dispatch(clearProfile())\r\n    dispatch(getProfileById(match.params.id))\r\n  }, [dispatch, match.params.id])\r\n  return (\r\n    <>\r\n      {loading ? (\r\n       <div className = \"pt-5\"><div className=\"loader py-5\"></div></div>\r\n      ) : (\r\n        <div className=\"w-75 offset-md-2 d-flex flex-column\">\r\n         {profile ?  <ProfileDetail profile={profile}/> : <div className = \"pt-5\"><div className=\"loader py-5\"></div></div>}\r\n            <hr className=\"w-75\" />\r\n            {profile  ? <ProfilePost  profile={profile}/> : <div className = \"pt-5\"><div className=\"loader py-5\"></div></div>}\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProfileById;\r\n","import React, {useEffect} from 'react'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {getPosts} from '../../redux/actions/post'\r\nimport PostElement from '../profile/PostElement'\r\n\r\nconst Explore = () => {\r\n    const dispatch = useDispatch()\r\n    useEffect(() => {\r\n        dispatch(getPosts())\r\n    }, [dispatch])\r\n    const {posts, loading} = useSelector(state => state.post)\r\n    const {profile, pLoading} = useSelector(state => state.profile)\r\n    if(loading) return <div className = \"pt-5\"><div className=\"loader py-5\"></div></div>\r\n    if(pLoading) return <div className = \"pt-5\"><div className=\"loader py-5\"></div></div>\r\n    return (\r\n        <>\r\n            <div className=\"w-75\">\r\n            <div className=\"row offset-3 pt-3\">\r\n                {posts.map((post) => (\r\n            <PostElement post={post} key={post._id} profile={profile} explore = {true}/>\r\n            ))}\r\n            </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Explore\r\n","import React, { useEffect } from \"react\";\nimport { Switch, Route, BrowserRouter, Redirect } from \"react-router-dom\";\nimport Navbar from \"./components/layout/Navbar\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport PrivateRoute from \"./components/routing/PrivateRoute\";\n\n\nimport \"./App.css\";\nimport Alert from \"./components/layout/Alert\";\nimport Home from \"./components/Home/Home\";\nimport Profile from \"./components/profile/Profile\";\nimport Auth from \"./components/loginForm/Auth\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { loadUser } from \"./redux/actions/auth\";\nimport setAuthToken from \"./utils/setAuthToken\";\nimport EditProfile from \"./components/profile/EditProfile\";\nimport CreatePost from \"./components/Home/CreatePost\";\n\nimport ProfileById from \"./components/profile/ProfileById\"\nimport Explore from \"./components/Home/Explore\";\n\nif (localStorage.token) {\n  setAuthToken(localStorage.token);\n}\n\nfunction App() {\n  const {isAuthenticated, loading }= useSelector(state => state.auth)\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(loadUser());\n  }, [dispatch]);\n\n  return (\n    <BrowserRouter>\n      {isAuthenticated && !loading && <Navbar />}\n      <div className=\" app\">\n        <div className=\"container \">\n          <Alert />\n          <Switch>\n            <PrivateRoute exact path=\"/\" component={Home} />\n            <Route exact path=\"/auth\" component={Auth} />\n            <PrivateRoute exact path=\"/profile/me\" component={Profile} />\n            <PrivateRoute exact path=\"/profile/edit\" component={EditProfile} />\n            <PrivateRoute exact path=\"/create\" component={CreatePost} />\n            <PrivateRoute exact path={`/profile/:id`} component={ProfileById} />\n            <PrivateRoute exact path=\"/explore\" component={Explore} />\n            <Redirect to =\"/\" />\n          </Switch>\n        </div>\n      </div>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","const initialState = []\r\n\r\nconst alert = (state = initialState, action) => {\r\n    const {type, payload} = action\r\n    switch (type) {\r\n        case \"SET_ALERT\":\r\n            return [...state, payload]\r\n        case \"REMOVE_ALERT\":\r\n            return state.filter(alert => alert.id !== payload)\r\n            \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default alert","import {\r\n  AUTH_ERROR,\r\n  LOGIN_FAIL,\r\n  LOGIN_SUCCESS,\r\n  LOGOUT,\r\n  REGISTER_FAIL,\r\n  REGISTER_SUCCESS,\r\n  USER_LOADED,\r\n} from \"../type\";\r\n\r\nconst initialState = {\r\n  isAuthenticated: false,\r\n  loading: true,\r\n  token: localStorage.getItem(\"token\"),\r\n  user: null,\r\n};\r\n\r\nconst auth = (state = initialState, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case USER_LOADED:\r\n      return { ...state, isAuthenticated: true, user: payload, loading: false };\r\n    case REGISTER_SUCCESS:\r\n    case LOGIN_SUCCESS:\r\n      return {\r\n        ...state,\r\n        ...payload,\r\n        loading: false,\r\n        isAuthenticated: true,\r\n        token: localStorage.setItem(\"token\", payload.token),\r\n      };\r\n    case REGISTER_FAIL:\r\n    case LOGIN_FAIL:\r\n    case AUTH_ERROR:\r\n    case LOGOUT:\r\n      \r\n      localStorage.removeItem(\"token\");\r\n      return { ...state, loading: false, isAuthenticated: false, token: null };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default auth;\r\n","import { EDIT_PROFILE, GET_PROFILE, PROFILE_ERROR, CLEAR_PROFILE, FOLLOW, GET_ALL_PROFILES } from \"../type\";\r\n\r\nconst initialState = {\r\n  profile: null,\r\n  profiles: [],\r\n  loading: true,\r\n  error: {},\r\n};\r\n\r\nconst profile = (state = initialState, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case GET_PROFILE:\r\n    case EDIT_PROFILE:\r\n      return { ...state, profile: payload, loading: false };\r\n    case PROFILE_ERROR:\r\n    case CLEAR_PROFILE:\r\n      return { ...state, profile: null, loading: false, error: payload };\r\n    case FOLLOW:\r\n      return {...state, profile: {...state.profile, followers : payload }, loading: false}\r\n    case GET_ALL_PROFILES:\r\n      return {...state, profiles : payload , loading : false}\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default profile;\r\n","import {\r\n  CREATE_POST,\r\n  GET_POSTS,\r\n  POST_ERROR,\r\n  LIKE_POST,\r\n  DELETE_POST,\r\n  COMMENT,\r\n  LIKE_COMMENT,\r\n  DELETE_COMMENT,\r\n} from \"../type\";\r\n\r\nconst initialState = {\r\n  post: null,\r\n  posts: [],\r\n  loading: true,\r\n\r\n  error: {},\r\n};\r\n\r\nconst post = (state = initialState, action) => {\r\n  const { type, payload } = action;\r\n  let comments = state?.post?.comments;\r\n  switch (type) {\r\n    case GET_POSTS:\r\n      return { ...state, posts: payload, loading: false };\r\n    case CREATE_POST:\r\n      return { ...state, post: payload, loading: false };\r\n    case POST_ERROR:\r\n      return { ...state, error: payload, loading: false };\r\n    case LIKE_POST:\r\n      return {\r\n        ...state,\r\n        posts: state.posts.map((post) =>\r\n          post._id === payload.id ? { ...post, likes: payload.likes } : post\r\n        ),\r\n        loading: false,\r\n      };\r\n    case DELETE_POST:\r\n      return {\r\n        ...state,\r\n        posts: state.posts.filter((post) => post._id !== payload),\r\n        loading: false,\r\n      };\r\n    case COMMENT:\r\n      return {\r\n        ...state,\r\n        post: { ...state.post, comments: payload },\r\n        loading: false,\r\n      };\r\n    case LIKE_COMMENT:\r\n      return {\r\n        ...state,\r\n        posts: state.posts.map((post) =>\r\n          post._id === payload.id\r\n            ? {\r\n                ...post,\r\n                comments: post.comments.map((comment) =>\r\n                  comment._id === payload.commentId\r\n                    ? { ...comment, likes: payload.likes }\r\n                    : comment\r\n                ),\r\n              }\r\n            : post\r\n        ),\r\n        loading: false,\r\n      };\r\n    case DELETE_COMMENT:\r\n      return {\r\n        ...state,\r\n        posts: state.posts.map((post) =>\r\n        post._id === payload.id ? { ...post,  comments: post.comments.filter(\r\n          (comment) => comment._id !== payload.commentId\r\n        )} : post\r\n      ),\r\n        loading: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default post;\r\n","import { combineReducers } from \"redux\";\r\n\r\nimport alert from \"./alerts\"\r\nimport auth from \"./auth\"\r\nimport profile from \"./profile\"\r\nimport post from \"./post\"\r\n\r\nconst rootReducer = combineReducers({alert, auth, profile, post})\r\n\r\nexport default rootReducer","import {createStore, applyMiddleware, compose} from \"redux\"\r\nimport { composeWithDevTools } from \"redux-devtools-extension\"\r\nimport thunk from \"redux-thunk\"\r\nimport rootReducer from \"./redux/reducers\"\r\n\r\nconst store = createStore(rootReducer, compose(applyMiddleware(thunk)))\r\n\r\nexport default store","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\n\nReactDOM.render(\n  <Provider store={store}>\n      <App />\n  </Provider>,\n\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}